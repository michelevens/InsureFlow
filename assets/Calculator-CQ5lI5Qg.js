import{j as e}from"./vendor-query-12hh4XMF.js";import{c as N,r as c}from"./vendor-react-DLBQSjpP.js";import{C,S as m,I as i,B as n}from"./Textarea-PvxY7cN2.js";import{q as w}from"./quotes-CQ5Ewz-0.js";import{S as q,e as x,m as v,A as g,c as I,n as k}from"./vendor-ui-DhJfMhsX.js";import"./index-BwvgEM7m.js";const S=[{value:"auto",label:"Auto Insurance"},{value:"home",label:"Home Insurance"},{value:"life",label:"Life Insurance"},{value:"health",label:"Health Insurance"},{value:"renters",label:"Renters Insurance"},{value:"business",label:"Business Insurance"},{value:"umbrella",label:"Umbrella Insurance"}],z=[{value:"basic",label:"Basic Coverage"},{value:"standard",label:"Standard Coverage"},{value:"premium",label:"Premium Coverage"}];function A(){const p=N(),[l,o]=c.useState(1),[_,u]=c.useState(!1),[d,h]=c.useState(""),[a,j]=c.useState({insurance_type:"",zip_code:"",coverage_level:"standard",vehicle_year:"",vehicle_make:"",vehicle_model:"",home_value:"",year_built:"",square_footage:""}),t=(s,r)=>j(b=>({...b,[s]:r})),y=async()=>{u(!0),h("");const s={};a.insurance_type==="auto"?(a.vehicle_year&&(s.vehicle_year=a.vehicle_year),a.vehicle_make&&(s.vehicle_make=a.vehicle_make),a.vehicle_model&&(s.vehicle_model=a.vehicle_model)):a.insurance_type==="home"&&(a.home_value&&(s.home_value=a.home_value),a.year_built&&(s.year_built=a.year_built),a.square_footage&&(s.square_footage=a.square_footage));try{const r=await w.estimate({insurance_type:a.insurance_type,zip_code:a.zip_code,coverage_level:a.coverage_level,details:Object.keys(s).length>0?s:void 0});p("/calculator/results",{state:{quoteRequestId:r.quote_request_id,quotes:r.quotes,insuranceType:a.insurance_type,coverageLevel:a.coverage_level,zipCode:a.zip_code}})}catch(r){h(r instanceof Error?r.message:"Failed to get quotes. Please try again.")}finally{u(!1)}},f=a.insurance_type==="auto"||a.insurance_type==="home";return e.jsxs("div",{className:"min-h-screen bg-slate-50",children:[e.jsx("nav",{className:"bg-white border-b border-slate-100",children:e.jsxs("div",{className:"max-w-4xl mx-auto px-6 py-4 flex items-center justify-between",children:[e.jsxs("a",{href:"/",className:"flex items-center gap-2.5",children:[e.jsx("div",{className:"w-9 h-9 rounded-xl gradient-shield flex items-center justify-center",children:e.jsx(q,{className:"w-5 h-5 text-white"})}),e.jsx("span",{className:"text-xl font-bold text-slate-900",children:"InsureFlow"})]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-500",children:[e.jsx(x,{className:"w-4 h-4 text-shield-600"}),"No login required"]})]})}),e.jsxs("div",{className:"max-w-4xl mx-auto px-6 py-12",children:[e.jsx("div",{className:"flex items-center justify-center gap-3 mb-10",children:[1,2].map(s=>e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center text-sm font-bold ${l>=s?"gradient-shield text-white":"bg-slate-200 text-slate-500"}`,children:l>s?e.jsx(v,{className:"w-5 h-5"}):s}),s<2&&e.jsx("div",{className:`w-16 h-1 rounded ${l>s?"bg-shield-500":"bg-slate-200"}`})]},s))}),e.jsxs("div",{className:"text-center mb-8",children:[e.jsxs("h1",{className:"text-3xl font-bold text-slate-900",children:[l===1&&"What type of insurance do you need?",l===2&&"Tell us about what you're insuring"]}),e.jsxs("p",{className:"text-slate-500 mt-2",children:[l===1&&"Select your coverage type and we'll find the best rates â€” no account needed",l===2&&"This helps us get you accurate quotes from top carriers"]})]}),e.jsx(C,{className:"max-w-2xl mx-auto",children:e.jsxs("div",{className:"p-8",children:[l===1&&e.jsxs("div",{className:"space-y-5",children:[e.jsx(m,{label:"Insurance Type",options:S,placeholder:"Select insurance type",value:a.insurance_type,onChange:s=>t("insurance_type",s.target.value)}),e.jsx(i,{label:"ZIP Code",placeholder:"Enter your ZIP code",value:a.zip_code,onChange:s=>t("zip_code",s.target.value),maxLength:5}),e.jsx(m,{label:"Coverage Level",options:z,value:a.coverage_level,onChange:s=>t("coverage_level",s.target.value)}),e.jsx(n,{variant:"shield",size:"lg",className:"w-full",rightIcon:e.jsx(g,{className:"w-5 h-5"}),onClick:()=>a.insurance_type&&a.zip_code?o(2):null,disabled:!a.insurance_type||!a.zip_code,children:"Continue"})]}),l===2&&e.jsxs("div",{className:"space-y-5",children:[a.insurance_type==="auto"&&e.jsxs(e.Fragment,{children:[e.jsx(i,{label:"Vehicle Year",placeholder:"2024",value:a.vehicle_year,onChange:s=>t("vehicle_year",s.target.value)}),e.jsx(i,{label:"Vehicle Make",placeholder:"Toyota",value:a.vehicle_make,onChange:s=>t("vehicle_make",s.target.value)}),e.jsx(i,{label:"Vehicle Model",placeholder:"Camry",value:a.vehicle_model,onChange:s=>t("vehicle_model",s.target.value)})]}),a.insurance_type==="home"&&e.jsxs(e.Fragment,{children:[e.jsx(i,{label:"Home Value",placeholder:"$350,000",value:a.home_value,onChange:s=>t("home_value",s.target.value)}),e.jsx(i,{label:"Year Built",placeholder:"1995",value:a.year_built,onChange:s=>t("year_built",s.target.value)}),e.jsx(i,{label:"Square Footage",placeholder:"2,000",value:a.square_footage,onChange:s=>t("square_footage",s.target.value)})]}),!f&&e.jsxs("div",{className:"text-center py-8",children:[e.jsx(I,{className:"w-12 h-12 text-shield-400 mx-auto mb-3"}),e.jsxs("p",{className:"text-slate-600",children:["Great choice! We'll match you with the best ",a.insurance_type," insurance rates in your area."]})]}),d&&e.jsx("div",{className:"p-3 rounded-lg bg-red-50 text-red-700 text-sm",children:d}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx(n,{variant:"outline",size:"lg",className:"flex-1",onClick:()=>o(1),children:"Back"}),e.jsx(n,{variant:"shield",size:"lg",className:"flex-1",rightIcon:e.jsx(g,{className:"w-5 h-5"}),onClick:y,isLoading:_,children:"Get My Quotes"})]})]})]})}),e.jsxs("div",{className:"flex items-center justify-center gap-8 mt-10 text-sm text-slate-500",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(x,{className:"w-4 h-4 text-shield-500"}),"No login required"]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(k,{className:"w-4 h-4 text-shield-500"}),"Results in seconds"]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(v,{className:"w-4 h-4 text-shield-500"}),"No obligation"]})]})]})]})}export{A as default};
