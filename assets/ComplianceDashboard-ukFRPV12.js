import{j as e}from"./vendor-query-D5ml2kdZ.js";import{r as t}from"./vendor-react-C8VcOkCS.js";import{C as r,B as d,S as z,I as u}from"./index-8sQqf4Gi.js";import{B as P}from"./Badge-CDix051U.js";import{M}from"./Modal-UQye4ZSv.js";import{c as v}from"./compliance-B2-LRcD2.js";import{R as H,n as se,aD as ae,af as te,aa as le,s as W,S as ne,t as Y,x as ie,F as B,an as ce,ax as F,d as T,ad as S}from"./vendor-ui-tJ0aMxU9.js";const re=["AL","AK","AZ","AR","CA","CO","CT","DE","FL","GA","HI","ID","IL","IN","IA","KS","KY","LA","ME","MD","MA","MI","MN","MS","MO","MT","NE","NV","NH","NJ","NM","NY","NC","ND","OH","OK","OR","PA","RI","SC","SD","TN","TX","UT","VT","VA","WA","WV","WI","WY","DC"],K={active:{label:"Active",variant:"success"},expired:{label:"Expired",variant:"danger"},suspended:{label:"Suspended",variant:"warning"},revoked:{label:"Revoked",variant:"danger"},pending:{label:"Pending",variant:"info"}},V={pending:{label:"Pending",variant:"warning"},in_progress:{label:"In Progress",variant:"info"},completed:{label:"Completed",variant:"success"},waived:{label:"Waived",variant:"default"},expired:{label:"Expired",variant:"danger"}},de={licensing:"Licensing",education:"Education & CE",insurance:"Insurance",regulatory:"Regulatory",documentation:"Documentation"};function fe(){const[a,_]=t.useState(null),[o,y]=t.useState(!0),[c,k]=t.useState("pack"),[x,N]=t.useState(!1),[h,f]=t.useState(!1),[m,b]=t.useState(!1),[n,g]=t.useState(null),[C,l]=t.useState(!1),[A,p]=t.useState("all"),[U,J]=t.useState(null),[D,R]=t.useState(!1),E=async()=>{y(!0);try{const s=await v.dashboard();_(s)}catch{S.error("Failed to load compliance data")}finally{y(!1)}},$=async()=>{l(!0);try{const s=await v.getPack();g(s)}catch{}finally{l(!1)}},G=async()=>{R(!0);try{const s=await v.generatePack();g(s),S.success("Compliance pack generated based on your states and products")}catch{S.error("Failed to generate compliance pack")}finally{R(!1)}},I=async(s,j)=>{try{await v.updatePackItem(s.id,{status:j}),$(),S.success(`Item marked as ${j}`)}catch{S.error("Failed to update item")}};t.useEffect(()=>{E(),$()},[]);const X=async s=>{await v.removeLicense(s),E()},Z=async s=>{await v.removeCeCredit(s),E()},Q=async s=>{await v.removeEoPolicy(s),E()},ee=[{key:"pack",label:"Compliance Pack"},{key:"overview",label:"Overview"},{key:"licenses",label:"Licenses"},{key:"ce",label:"CE Credits"},{key:"eo",label:"E&O Insurance"}];return o||!a?e.jsxs("div",{className:"space-y-6",children:[e.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:"Compliance"}),e.jsx(r,{className:"p-8 text-center",children:e.jsx("div",{className:"w-8 h-8 border-4 border-shield-200 border-t-shield-600 rounded-full animate-spin mx-auto"})})]}):e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:"Compliance"}),e.jsx("p",{className:"text-slate-500 mt-1",children:"Licenses, CE credits, and E&O insurance tracking"})]})}),e.jsx("div",{className:"flex bg-slate-100 rounded-lg p-1 w-fit",children:ee.map(s=>e.jsx("button",{onClick:()=>k(s.key),className:`px-4 py-2 text-sm rounded-md transition-colors ${c===s.key?"bg-white shadow text-slate-900 font-medium":"text-slate-500"}`,children:s.label},s.key))}),c==="pack"&&e.jsx("div",{className:"space-y-4",children:n&&n.summary.total>0?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:[e.jsxs(r,{className:"p-4 text-center",children:[e.jsx("p",{className:"text-2xl font-bold text-slate-900",children:n.summary.total}),e.jsx("p",{className:"text-xs text-slate-500",children:"Total"})]}),e.jsxs(r,{className:"p-4 text-center",children:[e.jsx("p",{className:"text-2xl font-bold text-savings-600",children:n.summary.completed}),e.jsx("p",{className:"text-xs text-slate-500",children:"Completed"})]}),e.jsxs(r,{className:"p-4 text-center",children:[e.jsx("p",{className:"text-2xl font-bold text-amber-600",children:n.summary.pending}),e.jsx("p",{className:"text-xs text-slate-500",children:"Pending"})]}),e.jsxs(r,{className:"p-4 text-center",children:[e.jsx("p",{className:"text-2xl font-bold text-shield-600",children:n.summary.in_progress}),e.jsx("p",{className:"text-xs text-slate-500",children:"In Progress"})]}),e.jsxs(r,{className:"p-4 text-center",children:[e.jsx("p",{className:"text-2xl font-bold text-red-600",children:n.summary.overdue}),e.jsx("p",{className:"text-xs text-slate-500",children:"Overdue"})]})]}),e.jsxs(r,{className:"p-5",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("h3",{className:"text-sm font-semibold text-slate-700",children:"Overall Compliance Progress"}),e.jsxs("span",{className:"text-sm font-bold text-shield-600",children:[n.summary.total>0?Math.round(n.summary.completed/n.summary.total*100):0,"%"]})]}),e.jsx("div",{className:"w-full bg-slate-200 rounded-full h-3",children:e.jsx("div",{className:"bg-shield-600 h-3 rounded-full transition-all",style:{width:`${n.summary.total>0?n.summary.completed/n.summary.total*100:0}%`}})}),e.jsxs("div",{className:"flex justify-between mt-2",children:[e.jsxs("p",{className:"text-xs text-slate-400",children:[n.summary.completed," of ",n.summary.total," requirements completed"]}),e.jsxs(d,{variant:"ghost",size:"sm",onClick:G,disabled:D,children:[e.jsx(H,{className:`w-3 h-3 mr-1 ${D?"animate-spin":""}`})," Refresh"]})]})]}),e.jsx("div",{className:"flex gap-2",children:["all","pending","in_progress","completed","overdue"].map(s=>e.jsx("button",{onClick:()=>p(s),className:`px-3 py-1.5 text-xs rounded-full capitalize transition-colors ${A===s?"bg-shield-600 text-white":"bg-slate-100 text-slate-600 hover:bg-slate-200"}`,children:s==="all"?"All":s.replace("_"," ")},s))}),Object.entries(n.items.filter(s=>A==="all"?!0:A==="overdue"?s.due_date&&new Date(s.due_date)<new Date&&!["completed","waived"].includes(s.status):s.status===A).reduce((s,j)=>{const i=j.requirement?.category||"other";return s[i]||(s[i]=[]),s[i].push(j),s},{})).map(([s,j])=>e.jsxs(r,{className:"overflow-hidden",children:[e.jsx("div",{className:"px-5 py-3 bg-slate-50 border-b border-slate-100",children:e.jsx("h3",{className:"text-sm font-semibold text-slate-700",children:de[s]||s})}),e.jsx("div",{className:"divide-y divide-slate-50",children:j.map(i=>{const w=i.requirement,q=V[i.status]||V.pending,L=i.due_date&&new Date(i.due_date)<new Date&&!["completed","waived"].includes(i.status),O=U===i.id;return e.jsxs("div",{className:`${L?"bg-red-50/50":""}`,children:[e.jsxs("div",{className:"flex items-center justify-between px-5 py-3 cursor-pointer hover:bg-slate-50",onClick:()=>J(O?null:i.id),children:[e.jsxs("div",{className:"flex items-center gap-3 min-w-0",children:[O?e.jsx(se,{className:"w-4 h-4 text-slate-400 flex-shrink-0"}):e.jsx(ae,{className:"w-4 h-4 text-slate-400 flex-shrink-0"}),e.jsxs("div",{className:"min-w-0",children:[e.jsx("p",{className:"font-medium text-slate-900 text-sm truncate",children:w?.title||"Requirement"}),e.jsxs("div",{className:"flex items-center gap-2 mt-0.5",children:[e.jsx("span",{className:"text-xs text-slate-400 capitalize",children:w?.frequency?.replace("_"," ")}),w?.authority&&e.jsxs("span",{className:"text-xs text-slate-400",children:["â€¢ ",w.authority]}),i.due_date&&e.jsxs("span",{className:`text-xs ${L?"text-red-600 font-medium":"text-slate-400"}`,children:["Due: ",new Date(i.due_date).toLocaleDateString()]})]})]})]}),e.jsx("div",{className:"flex items-center gap-2 flex-shrink-0",children:e.jsx(P,{variant:L?"danger":q.variant,children:L?"Overdue":q.label})})]}),O&&e.jsxs("div",{className:"px-5 pb-4 pl-12 space-y-3",children:[w?.description&&e.jsx("p",{className:"text-sm text-slate-600",children:w.description}),w?.reference_url&&e.jsxs("a",{href:w.reference_url,target:"_blank",rel:"noopener noreferrer",className:"text-xs text-shield-600 hover:underline flex items-center gap-1",children:[e.jsx(te,{className:"w-3 h-3"})," Reference"]}),e.jsxs("div",{className:"flex gap-2",children:[i.status!=="completed"&&e.jsxs(d,{variant:"shield",size:"sm",onClick:()=>I(i,"completed"),children:[e.jsx(le,{className:"w-3 h-3 mr-1"})," Mark Complete"]}),i.status==="pending"&&e.jsx(d,{variant:"outline",size:"sm",onClick:()=>I(i,"in_progress"),children:"In Progress"}),i.status==="completed"&&e.jsx(d,{variant:"ghost",size:"sm",onClick:()=>I(i,"pending"),children:"Reopen"})]})]})]},i.id)})})]},s))]}):C?e.jsxs(r,{className:"p-8 text-center",children:[e.jsx("div",{className:"w-8 h-8 border-4 border-shield-200 border-t-shield-600 rounded-full animate-spin mx-auto"}),e.jsx("p",{className:"text-sm text-slate-400 mt-2",children:"Loading compliance pack..."})]}):e.jsxs(r,{className:"p-12 text-center",children:[e.jsx(W,{className:"w-12 h-12 text-slate-300 mx-auto mb-3"}),e.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-1",children:"No Compliance Pack Yet"}),e.jsx("p",{className:"text-sm text-slate-500 mb-4",children:"Generate your personalized compliance pack based on your licensed states and insurance products."}),e.jsx(d,{variant:"shield",onClick:G,disabled:D,children:D?e.jsxs(e.Fragment,{children:[e.jsx(H,{className:"w-4 h-4 mr-2 animate-spin"})," Generating..."]}):e.jsxs(e.Fragment,{children:[e.jsx(W,{className:"w-4 h-4 mr-2"})," Generate My Compliance Pack"]})})]})}),c==="overview"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsxs(r,{className:"p-5",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-shield-50 flex items-center justify-center",children:e.jsx(ne,{className:"w-5 h-5 text-shield-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold text-slate-900",children:a.licenses.active}),e.jsx("p",{className:"text-sm text-slate-500",children:"Active Licenses"})]})]}),a.licenses.expiring_soon>0&&e.jsxs("p",{className:"text-xs text-amber-600 mt-1",children:[e.jsx(Y,{className:"w-3 h-3 inline mr-1"}),a.licenses.expiring_soon," expiring soon"]})]}),e.jsxs(r,{className:"p-5",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-blue-50 flex items-center justify-center",children:e.jsx(ie,{className:"w-5 h-5 text-blue-600"})}),e.jsxs("div",{children:[e.jsxs("p",{className:"text-2xl font-bold text-slate-900",children:[a.ce_credits.this_year,"h"]}),e.jsx("p",{className:"text-sm text-slate-500",children:"CE This Year"})]})]}),e.jsxs("p",{className:"text-xs text-slate-400",children:[a.ce_credits.total_hours,"h total"]})]}),e.jsxs(r,{className:"p-5",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("div",{className:`w-10 h-10 rounded-xl flex items-center justify-center ${a.eo_insurance.active?"bg-green-50":"bg-red-50"}`,children:e.jsx(B,{className:`w-5 h-5 ${a.eo_insurance.active?"text-green-600":"text-red-600"}`})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold text-slate-900",children:a.eo_insurance.active?"Active":"None"}),e.jsx("p",{className:"text-sm text-slate-500",children:"E&O Insurance"})]})]}),a.eo_insurance.policy&&e.jsxs("p",{className:"text-xs text-slate-400",children:["Expires ",new Date(a.eo_insurance.policy.expiration_date).toLocaleDateString()]})]}),e.jsx(r,{className:"p-5",children:e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("div",{className:`w-10 h-10 rounded-xl flex items-center justify-center ${a.expiring.length>0?"bg-amber-50":"bg-green-50"}`,children:e.jsx(ce,{className:`w-5 h-5 ${a.expiring.length>0?"text-amber-600":"text-green-600"}`})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold text-slate-900",children:a.expiring.length}),e.jsx("p",{className:"text-sm text-slate-500",children:"Expiring Items"})]})]})})]}),a.expiring.length>0&&e.jsxs(r,{className:"p-5",children:[e.jsxs("h3",{className:"text-sm font-bold text-slate-700 mb-3 flex items-center gap-2",children:[e.jsx(Y,{className:"w-4 h-4 text-amber-500"})," Expiring Soon"]}),e.jsx("div",{className:"space-y-2",children:a.expiring.map((s,j)=>e.jsxs("div",{className:"flex items-center justify-between bg-amber-50 rounded-lg px-4 py-2.5 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:s.label}),e.jsxs("span",{className:"text-slate-400 ml-2",children:["expires ",s.expires]})]}),e.jsxs(P,{variant:s.days_left<=14?"danger":"warning",children:[s.days_left," days"]})]},j))})]})]}),c==="licenses"&&e.jsxs(r,{className:"p-5",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-bold text-slate-900",children:"Agent Licenses"}),e.jsxs(d,{variant:"shield",size:"sm",onClick:()=>N(!0),children:[e.jsx(F,{className:"w-4 h-4 mr-1"})," Add License"]})]}),a.licenses.items.length===0?e.jsx("p",{className:"text-sm text-slate-400 text-center py-8",children:"No licenses on file"}):e.jsx("div",{className:"space-y-2",children:a.licenses.items.map(s=>{const j=K[s.status]||K.pending;return e.jsxs("div",{className:"flex items-center justify-between bg-slate-50 rounded-xl px-4 py-3",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"font-bold text-lg text-slate-900",children:s.state}),e.jsx(P,{variant:j.variant,children:j.label}),e.jsx("span",{className:"text-sm text-slate-500",children:s.license_type})]}),e.jsxs("div",{className:"flex items-center gap-3 mt-1 text-sm text-slate-500",children:[e.jsxs("span",{children:["#",s.license_number]}),s.npn&&e.jsxs("span",{children:["NPN: ",s.npn]}),e.jsxs("span",{children:["Expires: ",new Date(s.expiration_date).toLocaleDateString()]})]}),s.lines_of_authority&&s.lines_of_authority.length>0&&e.jsx("div",{className:"flex gap-1 mt-1",children:s.lines_of_authority.map(i=>e.jsx("span",{className:"text-xs px-2 py-0.5 rounded-full bg-shield-50 text-shield-700 capitalize",children:i},i))})]}),e.jsx(d,{variant:"ghost",size:"sm",onClick:()=>X(s.id),children:e.jsx(T,{className:"w-4 h-4 text-red-400"})})]},s.id)})})]}),c==="ce"&&e.jsxs(r,{className:"p-5",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-bold text-slate-900",children:"CE Credits"}),e.jsxs(d,{variant:"shield",size:"sm",onClick:()=>f(!0),children:[e.jsx(F,{className:"w-4 h-4 mr-1"})," Add CE Credit"]})]}),a.ce_credits.items.length===0?e.jsx("p",{className:"text-sm text-slate-400 text-center py-8",children:"No CE credits recorded"}):e.jsx("div",{className:"space-y-2",children:a.ce_credits.items.map(s=>e.jsxs("div",{className:"flex items-center justify-between bg-slate-50 rounded-xl px-4 py-3",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-slate-900",children:s.course_name}),e.jsxs("div",{className:"flex items-center gap-3 mt-1 text-sm text-slate-500",children:[e.jsxs("span",{className:"font-bold text-shield-600",children:[s.hours,"h"]}),s.provider&&e.jsx("span",{children:s.provider}),s.category&&e.jsx("span",{className:"capitalize",children:s.category}),s.state&&e.jsx("span",{children:s.state}),e.jsx("span",{children:new Date(s.completion_date).toLocaleDateString()})]})]}),e.jsx(d,{variant:"ghost",size:"sm",onClick:()=>Z(s.id),children:e.jsx(T,{className:"w-4 h-4 text-red-400"})})]},s.id))})]}),c==="eo"&&e.jsxs(r,{className:"p-5",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-bold text-slate-900",children:"E&O Insurance"}),e.jsxs(d,{variant:"shield",size:"sm",onClick:()=>b(!0),children:[e.jsx(F,{className:"w-4 h-4 mr-1"})," Add E&O Policy"]})]}),a.eo_insurance.policy?e.jsx("div",{className:"bg-slate-50 rounded-xl p-5",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("h4",{className:"font-bold text-slate-900",children:a.eo_insurance.policy.carrier}),e.jsx(P,{variant:a.eo_insurance.active?"success":"danger",children:a.eo_insurance.active?"Active":"Expired"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-x-8 gap-y-2 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-slate-400",children:"Policy #"}),e.jsx("p",{className:"font-medium",children:a.eo_insurance.policy.policy_number})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-slate-400",children:"Coverage"}),e.jsxs("p",{className:"font-medium",children:["$",Number(a.eo_insurance.policy.coverage_amount).toLocaleString()]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-slate-400",children:"Effective"}),e.jsx("p",{className:"font-medium",children:new Date(a.eo_insurance.policy.effective_date).toLocaleDateString()})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-slate-400",children:"Expires"}),e.jsx("p",{className:"font-medium",children:new Date(a.eo_insurance.policy.expiration_date).toLocaleDateString()})]}),a.eo_insurance.policy.deductible&&e.jsxs("div",{children:[e.jsx("span",{className:"text-slate-400",children:"Deductible"}),e.jsxs("p",{className:"font-medium",children:["$",Number(a.eo_insurance.policy.deductible).toLocaleString()]})]})]})]}),e.jsx(d,{variant:"ghost",size:"sm",onClick:()=>Q(a.eo_insurance.policy.id),children:e.jsx(T,{className:"w-4 h-4 text-red-400"})})]})}):e.jsxs("div",{className:"text-center py-8",children:[e.jsx(B,{className:"w-10 h-10 text-slate-300 mx-auto mb-2"}),e.jsx("p",{className:"text-sm text-slate-400",children:"No E&O policy on file"})]})]}),x&&e.jsx(oe,{onClose:()=>N(!1),onAdded:()=>{E(),N(!1)}}),h&&e.jsx(xe,{onClose:()=>f(!1),onAdded:()=>{E(),f(!1)}}),m&&e.jsx(me,{onClose:()=>b(!1),onAdded:()=>{E(),b(!1)}})]})}function oe({onClose:a,onAdded:_}){const[o,y]=t.useState(""),[c,k]=t.useState(""),[x,N]=t.useState("producer"),[h,f]=t.useState(""),[m,b]=t.useState(""),[n,g]=t.useState(!1),C=async()=>{if(!(!o||!c||!h)){g(!0);try{await v.createLicense({state:o,license_number:c,license_type:x,expiration_date:h,npn:m||void 0}),_()}catch{S.error("Failed to add license")}finally{g(!1)}}};return e.jsx(M,{isOpen:!0,onClose:a,title:"Add License",size:"md",children:e.jsxs("div",{className:"space-y-4",children:[e.jsx(z,{label:"State",value:o,onChange:l=>y(l.target.value),options:[{value:"",label:"Select state..."},...re.map(l=>({value:l,label:l}))]}),e.jsx(u,{label:"License Number",value:c,onChange:l=>k(l.target.value)}),e.jsx(z,{label:"License Type",value:x,onChange:l=>N(l.target.value),options:[{value:"producer",label:"Producer"},{value:"surplus_lines",label:"Surplus Lines"},{value:"adjuster",label:"Adjuster"}]}),e.jsx(u,{label:"Expiration Date",type:"date",value:h,onChange:l=>f(l.target.value)}),e.jsx(u,{label:"NPN (optional)",value:m,onChange:l=>b(l.target.value),placeholder:"National Producer Number"}),e.jsxs("div",{className:"flex justify-end gap-2 pt-2",children:[e.jsx(d,{variant:"ghost",onClick:a,children:"Cancel"}),e.jsx(d,{variant:"shield",onClick:C,disabled:n||!o||!c||!h,children:n?"Adding...":"Add License"})]})]})})}function xe({onClose:a,onAdded:_}){const[o,y]=t.useState(""),[c,k]=t.useState(""),[x,N]=t.useState(""),[h,f]=t.useState(""),[m,b]=t.useState(""),[n,g]=t.useState(!1),C=async()=>{if(!(!o||!x||!m)){g(!0);try{await v.createCeCredit({course_name:o,provider:c||void 0,hours:parseFloat(x),category:h||void 0,completion_date:m}),_()}catch{S.error("Failed to add CE credit")}finally{g(!1)}}};return e.jsx(M,{isOpen:!0,onClose:a,title:"Add CE Credit",size:"md",children:e.jsxs("div",{className:"space-y-4",children:[e.jsx(u,{label:"Course Name",value:o,onChange:l=>y(l.target.value)}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsx(u,{label:"Provider",value:c,onChange:l=>k(l.target.value)}),e.jsx(u,{label:"Hours",type:"number",value:x,onChange:l=>N(l.target.value)})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsx(z,{label:"Category",value:h,onChange:l=>f(l.target.value),options:[{value:"",label:"Select..."},{value:"general",label:"General"},{value:"ethics",label:"Ethics"},{value:"flood",label:"Flood"},{value:"long_term_care",label:"Long-Term Care"}]}),e.jsx(u,{label:"Completion Date",type:"date",value:m,onChange:l=>b(l.target.value)})]}),e.jsxs("div",{className:"flex justify-end gap-2 pt-2",children:[e.jsx(d,{variant:"ghost",onClick:a,children:"Cancel"}),e.jsx(d,{variant:"shield",onClick:C,disabled:n||!o||!x||!m,children:n?"Adding...":"Add CE Credit"})]})]})})}function me({onClose:a,onAdded:_}){const[o,y]=t.useState(""),[c,k]=t.useState(""),[x,N]=t.useState(""),[h,f]=t.useState(""),[m,b]=t.useState(""),[n,g]=t.useState(""),[C,l]=t.useState(!1),A=async()=>{if(!(!o||!c||!x||!m||!n)){l(!0);try{await v.createEoPolicy({carrier:o,policy_number:c,coverage_amount:parseFloat(x),deductible:h?parseFloat(h):void 0,effective_date:m,expiration_date:n}),_()}catch{S.error("Failed to add E&O policy")}finally{l(!1)}}};return e.jsx(M,{isOpen:!0,onClose:a,title:"Add E&O Policy",size:"md",children:e.jsxs("div",{className:"space-y-4",children:[e.jsx(u,{label:"Carrier",value:o,onChange:p=>y(p.target.value),placeholder:"e.g. ARIS, Swiss Re"}),e.jsx(u,{label:"Policy Number",value:c,onChange:p=>k(p.target.value)}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsx(u,{label:"Coverage Amount ($)",type:"number",value:x,onChange:p=>N(p.target.value)}),e.jsx(u,{label:"Deductible ($)",type:"number",value:h,onChange:p=>f(p.target.value)})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsx(u,{label:"Effective Date",type:"date",value:m,onChange:p=>b(p.target.value)}),e.jsx(u,{label:"Expiration Date",type:"date",value:n,onChange:p=>g(p.target.value)})]}),e.jsxs("div",{className:"flex justify-end gap-2 pt-2",children:[e.jsx(d,{variant:"ghost",onClick:a,children:"Cancel"}),e.jsx(d,{variant:"shield",onClick:A,disabled:C||!o||!c||!x||!m||!n,children:C?"Adding...":"Add E&O Policy"})]})]})})}export{fe as default};
