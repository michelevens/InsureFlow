import{j as e}from"./vendor-query-D5ml2kdZ.js";import{u as L,C as c,B as w}from"./index-8sQqf4Gi.js";import{r as o,L as n}from"./vendor-react-C8VcOkCS.js";import{S as d}from"./StatsCard-Bq4BCnJk.js";import{E as M}from"./EmptyState-BJ9LqOXy.js";import{a as N}from"./analytics-C3hYtGUF.js";import{ad as b,s as S,F as v,S as p,q as P,a7 as g,B,a as y,aa as D,D as u,w as F,L as _,a6 as T,an as R,T as q,u as f,y as k,Q as A,a8 as E,z as C,x as V,a9 as I}from"./vendor-ui-tJ0aMxU9.js";import{B as z}from"./Badge-CDix051U.js";function $(){const{user:s}=L(),[t,m]=o.useState(null),[h,i]=o.useState(!0);o.useEffect(()=>{N.getDashboardStats().then(a=>m(a)).catch(()=>{b.error("Failed to load dashboard stats")}).finally(()=>i(!1))},[]);const x=a=>a?.toLocaleString()??"0",r=a=>`$${(a??0).toLocaleString(void 0,{minimumFractionDigits:0,maximumFractionDigits:0})}`;return e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-2xl font-bold text-slate-900",children:["Welcome back, ",s?.name?.split(" ")[0]||"there","!"]}),e.jsx("p",{className:"text-slate-500 mt-1",children:"Manage your insurance quotes, applications, and policies"})]}),e.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4",children:h?Array.from({length:4}).map((a,l)=>e.jsxs(c,{className:"p-5 animate-pulse",children:[e.jsx("div",{className:"h-4 w-20 bg-slate-200 rounded mb-2"}),e.jsx("div",{className:"h-7 w-16 bg-slate-200 rounded"})]},l)):e.jsxs(e.Fragment,{children:[e.jsx(d,{icon:e.jsx(S,{className:"w-5 h-5"}),label:"Saved Quotes",value:x(t?.quotes)}),e.jsx(d,{icon:e.jsx(v,{className:"w-5 h-5"}),label:"Applications",value:x(t?.applications)}),e.jsx(d,{icon:e.jsx(p,{className:"w-5 h-5"}),label:"Active Policies",value:x(t?.active_policies)}),e.jsx(d,{icon:e.jsx(P,{className:"w-5 h-5"}),label:"Monthly Premium",value:r(t?.total_premium),variant:"savings"})]})}),e.jsxs("div",{className:"grid md:grid-cols-3 gap-4",children:[e.jsx(n,{to:"/calculator",children:e.jsxs(c,{className:"p-6 hover:shadow-lg transition-shadow cursor-pointer group",children:[e.jsx("div",{className:"w-12 h-12 rounded-2xl bg-shield-100 text-shield-600 flex items-center justify-center mb-4",children:e.jsx(P,{className:"w-6 h-6"})}),e.jsxs("h3",{className:"font-semibold text-slate-900 mb-1 flex items-center gap-2",children:["Get New Quote",e.jsx(g,{className:"w-4 h-4 opacity-0 group-hover:opacity-100 transition-opacity"})]}),e.jsx("p",{className:"text-sm text-slate-500",children:"Compare rates from 50+ carriers instantly"})]})}),e.jsx(n,{to:"/portal/quotes",children:e.jsxs(c,{className:"p-6 hover:shadow-lg transition-shadow cursor-pointer group",children:[e.jsx("div",{className:"w-12 h-12 rounded-2xl bg-confidence-100 text-confidence-600 flex items-center justify-center mb-4",children:e.jsx(S,{className:"w-6 h-6"})}),e.jsxs("h3",{className:"font-semibold text-slate-900 mb-1 flex items-center gap-2",children:["View My Quotes",e.jsx(g,{className:"w-4 h-4 opacity-0 group-hover:opacity-100 transition-opacity"})]}),e.jsx("p",{className:"text-sm text-slate-500",children:"Review and compare your saved quotes"})]})}),e.jsx(n,{to:"/marketplace",children:e.jsxs(c,{className:"p-6 hover:shadow-lg transition-shadow cursor-pointer group",children:[e.jsx("div",{className:"w-12 h-12 rounded-2xl bg-savings-100 text-savings-600 flex items-center justify-center mb-4",children:e.jsx(p,{className:"w-6 h-6"})}),e.jsxs("h3",{className:"font-semibold text-slate-900 mb-1 flex items-center gap-2",children:["Find an Agent",e.jsx(g,{className:"w-4 h-4 opacity-0 group-hover:opacity-100 transition-opacity"})]}),e.jsx("p",{className:"text-sm text-slate-500",children:"Connect with a licensed insurance expert"})]})})]}),e.jsx(c,{children:e.jsxs("div",{className:"p-6",children:[e.jsx("h2",{className:"text-lg font-semibold text-slate-900 mb-4",children:"Recent Activity"}),t&&(t.quotes>0||t.applications>0||t.active_policies>0)?e.jsxs("div",{className:"space-y-3",children:[t.active_policies>0&&e.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-xl bg-savings-50",children:[e.jsx(p,{className:"w-5 h-5 text-savings-600"}),e.jsxs("p",{className:"text-sm text-slate-700",children:["You have ",e.jsx("strong",{children:t.active_policies})," active ",t.active_policies===1?"policy":"policies"]})]}),t.quotes>0&&e.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-xl bg-shield-50",children:[e.jsx(S,{className:"w-5 h-5 text-shield-600"}),e.jsxs("p",{className:"text-sm text-slate-700",children:["You have ",e.jsx("strong",{children:t.quotes})," saved ",t.quotes===1?"quote":"quotes"]})]}),t.applications>0&&e.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-xl bg-confidence-50",children:[e.jsx(v,{className:"w-5 h-5 text-confidence-600"}),e.jsxs("p",{className:"text-sm text-slate-700",children:["You have ",e.jsx("strong",{children:t.applications})," pending ",t.applications===1?"application":"applications"]})]})]}):e.jsx(M,{icon:e.jsx(B,{className:"w-8 h-8"}),title:"No recent activity",description:"Get started by requesting a free insurance quote",actionLabel:"Get a Quote",onAction:()=>window.location.href="/calculator"})]})})]})}function Q(){const{user:s}=L(),[t,m]=o.useState(null),[h,i]=o.useState(!0);o.useEffect(()=>{N.getDashboardStats().then(a=>m(a)).catch(()=>{b.error("Failed to load dashboard stats")}).finally(()=>i(!1))},[]);const x=a=>a?.toLocaleString()??"0",r=a=>`$${(a??0).toLocaleString(void 0,{minimumFractionDigits:0,maximumFractionDigits:0})}`;return e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:"Agent Dashboard"}),e.jsxs("p",{className:"text-slate-500 mt-1",children:["Welcome back, ",s?.name?.split(" ")[0],". Here's your pipeline overview."]})]}),e.jsx(n,{to:"/crm/leads",children:e.jsx(w,{variant:"shield",size:"sm",rightIcon:e.jsx(g,{className:"w-4 h-4"}),children:"View All Leads"})})]}),e.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-5 gap-4",children:h?Array.from({length:5}).map((a,l)=>e.jsxs(c,{className:"p-5 animate-pulse",children:[e.jsx("div",{className:"h-4 w-20 bg-slate-200 rounded mb-2"}),e.jsx("div",{className:"h-7 w-16 bg-slate-200 rounded"})]},l)):e.jsxs(e.Fragment,{children:[e.jsx(d,{icon:e.jsx(y,{className:"w-5 h-5"}),label:"New Leads",value:x(t?.new_leads)}),e.jsx(d,{icon:e.jsx(v,{className:"w-5 h-5"}),label:"Active Applications",value:x(t?.applications)}),e.jsx(d,{icon:e.jsx(D,{className:"w-5 h-5"}),label:"Policies Bound",value:x(t?.policies_bound)}),e.jsx(d,{icon:e.jsx(u,{className:"w-5 h-5"}),label:"Total Commissions",value:r(t?.total_commission),variant:"savings"}),e.jsx(d,{icon:e.jsx(F,{className:"w-5 h-5"}),label:"Rating",value:t?.avg_rating?.toFixed(1)??"0"})]})}),e.jsxs("div",{className:"grid lg:grid-cols-3 gap-6",children:[e.jsx("div",{className:"lg:col-span-2",children:e.jsx(c,{children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:"Pipeline Summary"}),e.jsx(n,{to:"/crm/leads",className:"text-sm text-shield-600 hover:underline",children:"View all"})]}),h?e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsx(_,{className:"w-6 h-6 animate-spin text-shield-400"})}):e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"p-4 rounded-xl bg-shield-50 text-center",children:[e.jsx("p",{className:"text-2xl font-bold text-shield-700",children:x(t?.new_leads)}),e.jsx("p",{className:"text-sm text-slate-500 mt-1",children:"New Leads"})]}),e.jsxs("div",{className:"p-4 rounded-xl bg-amber-50 text-center",children:[e.jsx("p",{className:"text-2xl font-bold text-amber-700",children:x(t?.total_leads?t.total_leads-(t?.new_leads??0):0)}),e.jsx("p",{className:"text-sm text-slate-500 mt-1",children:"In Progress"})]}),e.jsxs("div",{className:"p-4 rounded-xl bg-confidence-50 text-center",children:[e.jsx("p",{className:"text-2xl font-bold text-confidence-700",children:x(t?.applications)}),e.jsx("p",{className:"text-sm text-slate-500 mt-1",children:"Applications"})]}),e.jsxs("div",{className:"p-4 rounded-xl bg-savings-50 text-center",children:[e.jsx("p",{className:"text-2xl font-bold text-savings-700",children:x(t?.policies_bound)}),e.jsx("p",{className:"text-sm text-slate-500 mt-1",children:"Bound"})]})]})]})})}),e.jsx(c,{children:e.jsxs("div",{className:"p-6",children:[e.jsx("h2",{className:"text-lg font-semibold text-slate-900 mb-4",children:"Action Items"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-start gap-3 p-3 rounded-xl bg-amber-50",children:[e.jsx(T,{className:"w-5 h-5 text-amber-500 flex-shrink-0 mt-0.5"}),e.jsxs("div",{children:[e.jsxs("p",{className:"text-sm font-medium text-slate-900",children:[t?.new_leads??0," leads need follow-up"]}),e.jsx("p",{className:"text-xs text-slate-500",children:"New leads awaiting contact"})]})]}),e.jsxs("div",{className:"flex items-start gap-3 p-3 rounded-xl bg-shield-50",children:[e.jsx(R,{className:"w-5 h-5 text-shield-500 flex-shrink-0 mt-0.5"}),e.jsxs("div",{children:[e.jsxs("p",{className:"text-sm font-medium text-slate-900",children:[t?.applications??0," applications pending"]}),e.jsx("p",{className:"text-xs text-slate-500",children:"In review or awaiting documents"})]})]}),e.jsxs("div",{className:"flex items-start gap-3 p-3 rounded-xl bg-savings-50",children:[e.jsx(q,{className:"w-5 h-5 text-savings-500 flex-shrink-0 mt-0.5"}),e.jsxs("div",{children:[e.jsxs("p",{className:"text-sm font-medium text-slate-900",children:[t?.policies_bound??0," policies bound"]}),e.jsx("p",{className:"text-xs text-slate-500",children:"Lifetime production"})]})]})]}),e.jsxs("div",{className:"mt-6 pt-4 border-t border-slate-100",children:[e.jsx("h3",{className:"text-sm font-medium text-slate-700 mb-3",children:"Quick Links"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(n,{to:"/commissions",className:"flex items-center gap-2 text-sm text-slate-600 hover:text-shield-600",children:[e.jsx(u,{className:"w-4 h-4"})," Commission Report"]}),e.jsxs(n,{to:"/reviews",className:"flex items-center gap-2 text-sm text-slate-600 hover:text-shield-600",children:[e.jsx(F,{className:"w-4 h-4"})," My Reviews"]}),e.jsxs(n,{to:"/settings",className:"flex items-center gap-2 text-sm text-slate-600 hover:text-shield-600",children:[e.jsx(f,{className:"w-4 h-4"})," Edit Profile"]})]})]})]})})]})]})}function O(){const[s,t]=o.useState(null),[m,h]=o.useState([]),[i,x]=o.useState(!0);o.useEffect(()=>{Promise.all([N.getDashboardStats(),N.getAgentPerformance(3,10).catch(()=>({agents:[]}))]).then(([l,j])=>{t(l),h(j.agents)}).catch(()=>{b.error("Failed to load agency dashboard")}).finally(()=>x(!1))},[]);const r=l=>l?.toLocaleString()??"0",a=l=>`$${(l??0).toLocaleString(void 0,{minimumFractionDigits:0,maximumFractionDigits:0})}`;return e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:"Agency Dashboard"}),e.jsxs("p",{className:"text-slate-500 mt-1",children:[s?.agency?.name?`${s.agency.name}`:"Overview of your agency's performance",s?.agency?.city&&s?.agency?.state&&e.jsxs("span",{className:"ml-1",children:["â€” ",s.agency.city,", ",s.agency.state]})]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(n,{to:"/agency/settings",children:e.jsx(w,{variant:"outline",size:"sm",children:"Settings"})}),e.jsx(n,{to:"/agency/settings",children:e.jsx(w,{variant:"shield",size:"sm",rightIcon:e.jsx(g,{className:"w-4 h-4"}),children:"Manage Team"})})]})]}),e.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4",children:i?Array.from({length:4}).map((l,j)=>e.jsxs(c,{className:"p-5 animate-pulse",children:[e.jsx("div",{className:"h-4 w-20 bg-slate-200 rounded mb-2"}),e.jsx("div",{className:"h-7 w-16 bg-slate-200 rounded"})]},j)):e.jsxs(e.Fragment,{children:[e.jsx(d,{icon:e.jsx(f,{className:"w-5 h-5"}),label:"Team Members",value:r(s?.team_members)}),e.jsx(d,{icon:e.jsx(y,{className:"w-5 h-5"}),label:"Total Leads",value:r(s?.total_leads)}),e.jsx(d,{icon:e.jsx(v,{className:"w-5 h-5"}),label:"Policies Bound",value:r(s?.total_policies)}),e.jsx(d,{icon:e.jsx(u,{className:"w-5 h-5"}),label:"Agency Revenue",value:a(s?.total_revenue),variant:"savings"})]})}),e.jsxs("div",{className:"grid lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[e.jsx(c,{children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:"Team Performance"}),e.jsx(n,{to:"/agency/settings",className:"text-sm text-shield-600 hover:underline",children:"View all"})]}),i?e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsx(_,{className:"w-6 h-6 animate-spin text-shield-400"})}):m.length===0?e.jsx("p",{className:"text-sm text-slate-500 text-center py-8",children:"No agent performance data yet. As your team writes business, their metrics will appear here."}):e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b border-slate-100",children:[e.jsx("th",{className:"text-left text-xs font-medium text-slate-500 uppercase tracking-wider pb-3",children:"Agent"}),e.jsx("th",{className:"text-right text-xs font-medium text-slate-500 uppercase tracking-wider pb-3",children:"Leads"}),e.jsx("th",{className:"text-right text-xs font-medium text-slate-500 uppercase tracking-wider pb-3",children:"Policies"}),e.jsx("th",{className:"text-right text-xs font-medium text-slate-500 uppercase tracking-wider pb-3",children:"Commission"})]})}),e.jsx("tbody",{className:"divide-y divide-slate-50",children:m.map(l=>e.jsxs("tr",{className:"hover:bg-slate-50",children:[e.jsx("td",{className:"py-3",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-8 h-8 rounded-full gradient-shield flex items-center justify-center text-white text-xs font-bold",children:l.name.split(" ").map(j=>j[0]).join("")}),e.jsx("span",{className:"font-medium text-slate-900",children:l.name})]})}),e.jsx("td",{className:"py-3 text-right text-sm font-medium text-slate-900",children:l.lead_count}),e.jsx("td",{className:"py-3 text-right text-sm font-medium text-slate-900",children:l.policy_count}),e.jsx("td",{className:"py-3 text-right text-sm font-medium text-savings-600",children:l.total_commission?`$${Number(l.total_commission).toLocaleString()}`:"$0"})]},l.id))})]})})]})}),!i&&s?.products&&s.products.length>0&&e.jsx(c,{children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:"Services Offered"}),e.jsx(n,{to:"/agency/settings",className:"text-sm text-shield-600 hover:underline",children:"Manage"})]}),e.jsx("div",{className:"flex flex-wrap gap-2",children:s.products.map(l=>e.jsxs("span",{className:"inline-flex items-center gap-1.5 px-3 py-1.5 rounded-full text-sm font-medium bg-shield-50 text-shield-700",children:[e.jsx(k,{className:"w-3.5 h-3.5"}),l.name]},l.id))}),e.jsxs("p",{className:"text-xs text-slate-400 mt-3",children:[s.products.length," active product",s.products.length!==1?"s":""]})]})})]}),e.jsxs("div",{className:"space-y-6",children:[!i&&s?.agency&&e.jsx(c,{children:e.jsxs("div",{className:"p-6",children:[e.jsx("h2",{className:"text-lg font-semibold text-slate-900 mb-4",children:"Agency Snapshot"}),e.jsxs("div",{className:"space-y-3",children:[s.agency.npn&&e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-slate-500",children:"NPN"}),e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx("span",{className:"text-sm font-medium text-slate-900",children:s.agency.npn}),s.agency.npn_verified&&e.jsx(D,{className:"w-4 h-4 text-green-500"})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-slate-500",children:"Applications"}),e.jsx("span",{className:"text-sm font-medium text-slate-900",children:r(s.total_applications)})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-slate-500",children:"Total Commissions"}),e.jsx("span",{className:"text-sm font-medium text-savings-600",children:a(s.total_commissions)})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-slate-500",children:"Verification"}),e.jsx(z,{variant:s.agency.is_verified?"success":"warning",size:"sm",children:s.agency.is_verified?"Verified":"Pending"})]})]})]})}),!i&&s?.carriers&&s.carriers.length>0&&e.jsx(c,{children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:"Carrier Appointments"}),e.jsxs("span",{className:"text-xs text-slate-400",children:[s.carriers.length," carrier",s.carriers.length!==1?"s":""]})]}),e.jsx("div",{className:"space-y-2.5",children:s.carriers.map((l,j)=>e.jsxs("div",{className:"flex items-center justify-between p-2.5 rounded-lg bg-slate-50",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(A,{className:"w-4 h-4 text-slate-400"}),e.jsx("span",{className:"text-sm font-medium text-slate-900",children:l.carrier_name})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[l.am_best_rating&&e.jsx("span",{className:"text-xs px-1.5 py-0.5 rounded bg-confidence-50 text-confidence-700 font-medium",children:l.am_best_rating}),e.jsxs("span",{className:"text-xs text-slate-400",children:[l.product_count," product",l.product_count!==1?"s":""]})]})]},j))})]})}),!i&&s?.license_states&&s.license_states.length>0&&e.jsx(c,{children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx(E,{className:"w-5 h-5 text-shield-600"}),e.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:"States of Operation"})]}),e.jsx("div",{className:"flex flex-wrap gap-1.5",children:s.license_states.map(l=>e.jsx("span",{className:"px-2.5 py-1 text-xs font-bold rounded-md bg-shield-50 text-shield-700",children:l},l))}),e.jsxs("p",{className:"text-xs text-slate-400 mt-3",children:["Licensed across ",s.license_states.length," state",s.license_states.length!==1?"s":""]})]})})]})]}),e.jsxs("div",{className:"grid md:grid-cols-4 gap-4",children:[e.jsx(n,{to:"/crm/leads",children:e.jsx(c,{className:"p-5 hover:shadow-lg transition-shadow cursor-pointer",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(y,{className:"w-8 h-8 text-shield-600"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-slate-900",children:"Lead Pipeline"}),e.jsx("p",{className:"text-sm text-slate-500",children:"Manage all agency leads"})]})]})})}),e.jsx(n,{to:"/commissions",children:e.jsx(c,{className:"p-5 hover:shadow-lg transition-shadow cursor-pointer",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(C,{className:"w-8 h-8 text-confidence-600"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-slate-900",children:"Commissions"}),e.jsx("p",{className:"text-sm text-slate-500",children:"Revenue by agent"})]})]})})}),e.jsx(n,{to:"/compliance",children:e.jsx(c,{className:"p-5 hover:shadow-lg transition-shadow cursor-pointer",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(p,{className:"w-8 h-8 text-savings-600"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-slate-900",children:"Compliance"}),e.jsx("p",{className:"text-sm text-slate-500",children:"Licenses & CE credits"})]})]})})}),e.jsx(n,{to:"/reviews",children:e.jsx(c,{className:"p-5 hover:shadow-lg transition-shadow cursor-pointer",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(V,{className:"w-8 h-8 text-amber-600"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-slate-900",children:"Reviews"}),e.jsx("p",{className:"text-sm text-slate-500",children:"Client feedback"})]})]})})})]})]})}function G(){const[s,t]=o.useState(null),[m,h]=o.useState(!0);o.useEffect(()=>{N.getDashboardStats().then(r=>t(r)).catch(()=>{b.error("Failed to load dashboard stats")}).finally(()=>h(!1))},[]);const i=r=>r?.toLocaleString()??"0",x=r=>{const a=r??0;return a>=1e6?`$${(a/1e6).toFixed(1)}M`:a>=1e3?`$${(a/1e3).toFixed(0)}K`:`$${a.toLocaleString()}`};return e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:"Carrier Dashboard"}),e.jsx("p",{className:"text-slate-500 mt-1",children:"Monitor product performance and production metrics"})]}),e.jsx(n,{to:"/carrier/products",children:e.jsx(w,{variant:"shield",size:"sm",rightIcon:e.jsx(g,{className:"w-4 h-4"}),children:"Manage Products"})})]}),e.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4",children:m?Array.from({length:4}).map((r,a)=>e.jsxs(c,{className:"p-5 animate-pulse",children:[e.jsx("div",{className:"h-4 w-20 bg-slate-200 rounded mb-2"}),e.jsx("div",{className:"h-7 w-16 bg-slate-200 rounded"})]},a)):e.jsxs(e.Fragment,{children:[e.jsx(d,{icon:e.jsx(k,{className:"w-5 h-5"}),label:"Active Products",value:i(s?.active_products)}),e.jsx(d,{icon:e.jsx(v,{className:"w-5 h-5"}),label:"Applications",value:i(s?.total_applications)}),e.jsx(d,{icon:e.jsx(p,{className:"w-5 h-5"}),label:"Policies Bound",value:i(s?.total_policies)}),e.jsx(d,{icon:e.jsx(u,{className:"w-5 h-5"}),label:"Premium Volume",value:x(s?.premium_volume),variant:"savings"})]})}),e.jsx(c,{children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:"Platform Overview"}),e.jsx(n,{to:"/carrier/production",className:"text-sm text-shield-600 hover:underline",children:"View details"})]}),m?e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsx(_,{className:"w-6 h-6 animate-spin text-shield-400"})}):e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"p-4 rounded-xl bg-shield-50 text-center",children:[e.jsx("p",{className:"text-2xl font-bold text-shield-700",children:i(s?.active_products)}),e.jsx("p",{className:"text-sm text-slate-500 mt-1",children:"Products"})]}),e.jsxs("div",{className:"p-4 rounded-xl bg-amber-50 text-center",children:[e.jsx("p",{className:"text-2xl font-bold text-amber-700",children:i(s?.total_applications)}),e.jsx("p",{className:"text-sm text-slate-500 mt-1",children:"Applications"})]}),e.jsxs("div",{className:"p-4 rounded-xl bg-savings-50 text-center",children:[e.jsx("p",{className:"text-2xl font-bold text-savings-700",children:i(s?.total_policies)}),e.jsx("p",{className:"text-sm text-slate-500 mt-1",children:"Policies"})]}),e.jsxs("div",{className:"p-4 rounded-xl bg-confidence-50 text-center",children:[e.jsx("p",{className:"text-2xl font-bold text-confidence-700",children:s?.total_applications&&s?.total_policies?`${Math.round(s.total_policies/s.total_applications*100)}%`:"0%"}),e.jsx("p",{className:"text-sm text-slate-500 mt-1",children:"Bind Rate"})]})]})]})}),e.jsxs("div",{className:"grid md:grid-cols-3 gap-4",children:[e.jsx(n,{to:"/carrier/products",children:e.jsx(c,{className:"p-5 hover:shadow-lg transition-shadow cursor-pointer",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(I,{className:"w-8 h-8 text-shield-600"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-slate-900",children:"Products"}),e.jsx("p",{className:"text-sm text-slate-500",children:"Manage insurance products"})]})]})})}),e.jsx(n,{to:"/carrier/production",children:e.jsx(c,{className:"p-5 hover:shadow-lg transition-shadow cursor-pointer",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(C,{className:"w-8 h-8 text-confidence-600"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-slate-900",children:"Production Report"}),e.jsx("p",{className:"text-sm text-slate-500",children:"Detailed analytics"})]})]})})}),e.jsx(n,{to:"/applications",children:e.jsx(c,{className:"p-5 hover:shadow-lg transition-shadow cursor-pointer",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(f,{className:"w-8 h-8 text-savings-600"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-slate-900",children:"Agent Network"}),e.jsx("p",{className:"text-sm text-slate-500",children:"View appointed agents"})]})]})})})]})]})}function U(){const[s,t]=o.useState(null),[m,h]=o.useState(!0);o.useEffect(()=>{N.getDashboardStats().then(r=>t(r)).catch(()=>{b.error("Failed to load dashboard stats")}).finally(()=>h(!1))},[]);const i=r=>r?.toLocaleString()??"0",x=r=>{const a=r??0;return a>=1e6?`$${(a/1e6).toFixed(1)}M`:a>=1e3?`$${(a/1e3).toFixed(1)}K`:`$${a.toLocaleString()}`};return e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:"Platform Overview"}),e.jsx("p",{className:"text-slate-500 mt-1",children:"Insurons administration dashboard"})]}),e.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-5 gap-4",children:m?Array.from({length:5}).map((r,a)=>e.jsxs(c,{className:"p-5 animate-pulse",children:[e.jsx("div",{className:"h-4 w-20 bg-slate-200 rounded mb-2"}),e.jsx("div",{className:"h-7 w-16 bg-slate-200 rounded"})]},a)):e.jsxs(e.Fragment,{children:[e.jsx(d,{icon:e.jsx(f,{className:"w-5 h-5"}),label:"Total Users",value:i(s?.total_users)}),e.jsx(d,{icon:e.jsx(A,{className:"w-5 h-5"}),label:"Agencies",value:i(s?.total_agencies)}),e.jsx(d,{icon:e.jsx(y,{className:"w-5 h-5"}),label:"Leads Generated",value:i(s?.total_leads)}),e.jsx(d,{icon:e.jsx(p,{className:"w-5 h-5"}),label:"Policies Bound",value:i(s?.total_policies)}),e.jsx(d,{icon:e.jsx(u,{className:"w-5 h-5"}),label:"Platform Revenue",value:x(s?.platform_revenue),variant:"savings"})]})}),e.jsxs("div",{className:"grid lg:grid-cols-3 gap-6",children:[e.jsx("div",{className:"lg:col-span-2",children:e.jsx(c,{children:e.jsxs("div",{className:"p-6",children:[e.jsx("h2",{className:"text-lg font-semibold text-slate-900 mb-4",children:"Platform Metrics"}),m?e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsx(_,{className:"w-6 h-6 animate-spin text-shield-400"})}):e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"p-4 rounded-xl bg-shield-50",children:[e.jsx("p",{className:"text-sm text-slate-500",children:"Total Agents"}),e.jsx("p",{className:"text-2xl font-bold text-shield-700 mt-1",children:i(s?.total_agents)})]}),e.jsxs("div",{className:"p-4 rounded-xl bg-confidence-50",children:[e.jsx("p",{className:"text-sm text-slate-500",children:"Applications"}),e.jsx("p",{className:"text-2xl font-bold text-confidence-700 mt-1",children:i(s?.total_applications)})]}),e.jsxs("div",{className:"p-4 rounded-xl bg-savings-50",children:[e.jsx("p",{className:"text-sm text-slate-500",children:"Conversion Rate"}),e.jsx("p",{className:"text-2xl font-bold text-savings-700 mt-1",children:s?.total_leads&&s?.total_policies?`${(s.total_policies/s.total_leads*100).toFixed(1)}%`:"0%"})]}),e.jsxs("div",{className:"p-4 rounded-xl bg-amber-50",children:[e.jsx("p",{className:"text-sm text-slate-500",children:"Agencies"}),e.jsx("p",{className:"text-2xl font-bold text-amber-700 mt-1",children:i(s?.total_agencies)})]}),e.jsxs("div",{className:"p-4 rounded-xl bg-purple-50",children:[e.jsx("p",{className:"text-sm text-slate-500",children:"Total Leads"}),e.jsx("p",{className:"text-2xl font-bold text-purple-700 mt-1",children:i(s?.total_leads)})]}),e.jsxs("div",{className:"p-4 rounded-xl bg-rose-50",children:[e.jsx("p",{className:"text-sm text-slate-500",children:"Policies Bound"}),e.jsx("p",{className:"text-2xl font-bold text-rose-700 mt-1",children:i(s?.total_policies)})]})]})]})})}),e.jsx(c,{children:e.jsxs("div",{className:"p-6",children:[e.jsx("h2",{className:"text-lg font-semibold text-slate-900 mb-4",children:"Admin Tools"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(n,{to:"/admin/users",className:"flex items-center gap-3 p-3 rounded-xl hover:bg-slate-50 transition-colors",children:[e.jsx(f,{className:"w-5 h-5 text-shield-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-slate-900",children:"User Management"}),e.jsx("p",{className:"text-xs text-slate-500",children:"Manage users & roles"})]})]}),e.jsxs(n,{to:"/admin/agencies",className:"flex items-center gap-3 p-3 rounded-xl hover:bg-slate-50 transition-colors",children:[e.jsx(A,{className:"w-5 h-5 text-confidence-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-slate-900",children:"Agency Management"}),e.jsx("p",{className:"text-xs text-slate-500",children:"Agencies & agents"})]})]}),e.jsxs(n,{to:"/admin/analytics",className:"flex items-center gap-3 p-3 rounded-xl hover:bg-slate-50 transition-colors",children:[e.jsx(C,{className:"w-5 h-5 text-savings-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-slate-900",children:"Analytics"}),e.jsx("p",{className:"text-xs text-slate-500",children:"Platform metrics"})]})]}),e.jsxs(n,{to:"/admin/plans",className:"flex items-center gap-3 p-3 rounded-xl hover:bg-slate-50 transition-colors",children:[e.jsx(u,{className:"w-5 h-5 text-amber-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-slate-900",children:"Subscription Plans"}),e.jsx("p",{className:"text-xs text-slate-500",children:"Pricing & billing"})]})]})]})]})})]})]})}function se(){const{user:s}=L();switch(s?.role){case"consumer":return e.jsx($,{});case"agent":return e.jsx(Q,{});case"agency_owner":return e.jsx(O,{});case"carrier":return e.jsx(G,{});case"admin":case"superadmin":return e.jsx(U,{});default:return e.jsx($,{})}}export{se as default};
