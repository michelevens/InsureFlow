import{j as e}from"./vendor-query-D5ml2kdZ.js";import{e as w,r as i,L as n}from"./vendor-react-C8VcOkCS.js";import{b as y,B as t,C as l,T as _}from"./index-BZEM9EbM.js";import{B as x}from"./Badge-8fS5vckW.js";import{L as S,A as C,S as k,w as m,a8 as A,x as L,M,ar as B,m as P,an as E,u as I,y as R}from"./vendor-ui-tJ0aMxU9.js";function U(){const{id:c}=w(),[s,o]=i.useState(null),[j,d]=i.useState(!0),[p,g]=i.useState(!1),[N,h]=i.useState(!1),[f,v]=i.useState("");if(i.useEffect(()=>{c&&(d(!0),y.get(`/marketplace/agents/${c}`).then(a=>o(a)).catch(()=>g(!0)).finally(()=>d(!1)))},[c]),j)return e.jsx("div",{className:"min-h-screen bg-slate-50 flex items-center justify-center",children:e.jsx(S,{className:"w-8 h-8 animate-spin text-shield-600"})});if(p||!s)return e.jsxs("div",{className:"min-h-screen bg-slate-50 flex flex-col items-center justify-center gap-4",children:[e.jsx("p",{className:"text-slate-500",children:"Agent not found"}),e.jsx(n,{to:"/marketplace",children:e.jsx(t,{variant:"outline",children:"Back to Marketplace"})})]});const r=s.user?.name??"Agent",u=r.split(" ").map(a=>a[0]).join("");return e.jsxs("div",{className:"min-h-screen bg-slate-50",children:[e.jsx("nav",{className:"bg-white border-b border-slate-100",children:e.jsxs("div",{className:"max-w-6xl mx-auto px-6 py-4 flex items-center justify-between",children:[e.jsx(n,{to:"/",className:"flex items-center gap-2.5",children:e.jsx("img",{src:"/logo.png",alt:"Insurons",className:"h-16 w-auto"})}),e.jsx(n,{to:"/marketplace",children:e.jsx(t,{variant:"ghost",size:"sm",leftIcon:e.jsx(C,{className:"w-4 h-4"}),children:"Back to Agents"})})]})}),e.jsx("div",{className:"max-w-6xl mx-auto px-6 py-10",children:e.jsxs("div",{className:"grid lg:grid-cols-3 gap-8",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[e.jsx(l,{children:e.jsx("div",{className:"p-8",children:e.jsxs("div",{className:"flex items-start gap-6",children:[e.jsx("div",{className:"w-20 h-20 rounded-2xl gradient-shield flex items-center justify-center text-white text-2xl font-bold flex-shrink-0",children:u}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:r}),s.npn_verified&&e.jsxs(x,{variant:"shield",children:[e.jsx(k,{className:"w-3.5 h-3.5 mr-1"}),"Verified"]})]}),e.jsxs("div",{className:"flex flex-wrap items-center gap-4 text-sm text-slate-600 mt-2",children:[s.avg_rating>0&&e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(m,{className:"w-4 h-4 text-amber-400 fill-amber-400"}),e.jsx("span",{className:"font-medium",children:s.avg_rating}),e.jsxs("span",{className:"text-slate-400",children:["(",s.review_count," reviews)"]})]}),s.city&&s.state&&e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(A,{className:"w-4 h-4 text-slate-400"}),s.city,", ",s.state]}),s.years_experience>0&&e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(L,{className:"w-4 h-4 text-slate-400"}),s.years_experience," years"]})]})]})]})})}),s.bio&&e.jsx(l,{children:e.jsxs("div",{className:"p-6",children:[e.jsx("h2",{className:"text-lg font-semibold text-slate-900 mb-3",children:"About"}),e.jsx("p",{className:"text-slate-600 leading-relaxed",children:s.bio})]})}),s.specialties?.length>0&&e.jsx(l,{children:e.jsxs("div",{className:"p-6",children:[e.jsx("h2",{className:"text-lg font-semibold text-slate-900 mb-3",children:"Specialties"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:s.specialties.map(a=>e.jsx(x,{variant:"outline",className:"text-sm px-3 py-1.5",children:a},a))})]})}),s.carriers?.length>0&&e.jsx(l,{children:e.jsxs("div",{className:"p-6",children:[e.jsx("h2",{className:"text-lg font-semibold text-slate-900 mb-3",children:"Carrier Partners"}),e.jsx("div",{className:"grid grid-cols-3 md:grid-cols-6 gap-3",children:s.carriers.map(a=>e.jsx("div",{className:"h-16 bg-slate-50 rounded-xl flex items-center justify-center text-sm font-medium text-slate-600 border border-slate-100",children:a},a))})]})}),e.jsx(l,{children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("h2",{className:"text-lg font-semibold text-slate-900",children:["Reviews (",s.review_count,")"]}),s.avg_rating>0&&e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(m,{className:"w-5 h-5 text-amber-400 fill-amber-400"}),e.jsx("span",{className:"text-lg font-bold text-slate-900",children:s.avg_rating})]})]}),s.reviews?.length>0?e.jsx("div",{className:"space-y-4",children:s.reviews.map(a=>e.jsxs("div",{className:"border-b border-slate-100 pb-4 last:border-0 last:pb-0",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"font-medium text-slate-900",children:a.user?.name??"Anonymous"}),e.jsx("div",{className:"flex items-center gap-0.5",children:Array.from({length:a.rating}).map((D,b)=>e.jsx(m,{className:"w-3.5 h-3.5 text-amber-400 fill-amber-400"},b))})]}),e.jsx("span",{className:"text-xs text-slate-400",children:new Date(a.created_at).toLocaleDateString()})]}),a.comment&&e.jsx("p",{className:"text-sm text-slate-600",children:a.comment}),a.agent_reply&&e.jsx("div",{className:"mt-2 pl-4 border-l-2 border-shield-200",children:e.jsx("p",{className:"text-sm text-slate-500 italic",children:a.agent_reply})})]},a.id))}):e.jsx("p",{className:"text-sm text-slate-400",children:"No reviews yet"})]})})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsx(l,{className:"sticky top-6",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("h3",{className:"text-lg font-semibold text-slate-900 mb-4",children:["Contact ",r.split(" ")[0]]}),N?e.jsxs("div",{className:"space-y-3",children:[e.jsx(_,{placeholder:`Hi ${r.split(" ")[0]}, I'm looking for insurance and would love to discuss my options...`,value:f,onChange:a=>v(a.target.value),rows:4}),e.jsx(t,{variant:"shield",className:"w-full",children:"Send Message"}),e.jsx(t,{variant:"ghost",className:"w-full",onClick:()=>h(!1),children:"Cancel"})]}):e.jsxs("div",{className:"space-y-3",children:[e.jsxs(t,{variant:"shield",className:"w-full",onClick:()=>h(!0),children:[e.jsx(M,{className:"w-4 h-4 mr-2"}),"Send Message"]}),e.jsxs(t,{variant:"outline",className:"w-full",children:[e.jsx(B,{className:"w-4 h-4 mr-2"}),"Call Agent"]}),e.jsxs(t,{variant:"outline",className:"w-full",children:[e.jsx(P,{className:"w-4 h-4 mr-2"}),"Schedule Meeting"]})]}),e.jsxs("div",{className:"mt-6 pt-6 border-t border-slate-100 space-y-3",children:[s.response_time&&e.jsxs("div",{className:"flex items-center gap-3 text-sm text-slate-600",children:[e.jsx(E,{className:"w-4 h-4 text-slate-400"}),"Responds in ",s.response_time]}),s.clients_served>0&&e.jsxs("div",{className:"flex items-center gap-3 text-sm text-slate-600",children:[e.jsx(I,{className:"w-4 h-4 text-slate-400"}),s.clients_served.toLocaleString()," clients served"]}),s.carriers?.length>0&&e.jsxs("div",{className:"flex items-center gap-3 text-sm text-slate-600",children:[e.jsx(R,{className:"w-4 h-4 text-slate-400"}),s.carriers.length," carrier partners"]})]})]})}),s.license_states?.length>0&&e.jsx(l,{children:e.jsxs("div",{className:"p-6",children:[e.jsx("h3",{className:"font-semibold text-slate-900 mb-3",children:"Licensed States"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:s.license_states.map(a=>e.jsx(x,{variant:"outline",children:a},a))})]})})]})]})})]})}export{U as default};
