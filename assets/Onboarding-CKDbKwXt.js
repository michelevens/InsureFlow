import{j as e}from"./vendor-query-D5ml2kdZ.js";import{u as De,r as x}from"./vendor-react-C8VcOkCS.js";import{b as w,u as We}from"./index-8sQqf4Gi.js";import{w as le,Q as ne,a8 as O,S as Y,a9 as T,y as ie,u as B,aa as M,ab as U,ac as p,A as Ee,L as v,a7 as se,ad as _,F as Oe,ae as Te,af as Me}from"./vendor-ui-tJ0aMxU9.js";const W={async getStatus(){return w.get("/onboarding/status")},async getFormData(){return w.get("/onboarding/form-data")},async saveAgency(n){return w.post("/onboarding/agency",n)},async saveAgent(n){return w.post("/onboarding/agent",n)},async complete(){return w.post("/onboarding/complete")}},te={async search(n){const r=new URLSearchParams;return n.npn&&r.set("npn",n.npn),n.name&&r.set("name",n.name),n.license_number&&r.set("license_number",n.license_number),n.state&&r.set("state",n.state),w.get(`/profiles/search?${r.toString()}`)},async claim(n){return w.post(`/profiles/${n}/claim`,{})}},ce=["AL","AK","AZ","AR","CA","CO","CT","DE","FL","GA","HI","ID","IL","IN","IA","KS","KY","LA","ME","MD","MA","MI","MN","MS","MO","MT","NE","NV","NH","NJ","NM","NY","NC","ND","OH","OK","OR","PA","RI","SC","SD","TN","TX","UT","VT","VA","WA","WV","WI","WY","DC"],$e=[{id:"welcome",label:"Welcome",description:"Get started",icon:le},{id:"agency-info",label:"Agency Info",description:"Company details",icon:ne},{id:"agency-location",label:"Location",description:"Where you operate",icon:O},{id:"licensing",label:"Licensing",description:"License & compliance",icon:Y},{id:"products",label:"Products",description:"What you sell",icon:T},{id:"carriers",label:"Carriers",description:"Your appointments",icon:ie},{id:"agent-profile",label:"Your Profile",description:"Personal info",icon:B},{id:"complete",label:"All Set!",description:"Ready to go",icon:M}],Re=[{id:"welcome",label:"Welcome",description:"Get started",icon:le},{id:"claim-profile",label:"Find Profile",description:"Claim your license",icon:U},{id:"agent-profile",label:"Your Profile",description:"About you",icon:B},{id:"agent-licensing",label:"Licensing",description:"License & compliance",icon:Y},{id:"agent-specialties",label:"Specialties",description:"What you sell",icon:T},{id:"service-area",label:"Service Area",description:"Where you work",icon:O},{id:"complete",label:"All Set!",description:"Ready to go",icon:M}];function E({value:n,onChange:r,label:g="State"}){return e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1.5",children:g}),e.jsxs("select",{value:n,onChange:i=>r(i.target.value),className:"w-full h-11 px-3 rounded-xl border border-slate-200 bg-white text-sm focus:outline-none focus:ring-2 focus:ring-shield-500/20 focus:border-shield-500 transition-all",children:[e.jsx("option",{value:"",children:"Select state"}),ce.map(i=>e.jsx("option",{value:i,children:i},i))]})]})}function z({selected:n,onChange:r}){const g=i=>{r(n.includes(i)?n.filter(j=>j!==i):[...n,i])};return e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1.5",children:"Licensed States"}),e.jsx("div",{className:"grid grid-cols-8 sm:grid-cols-10 gap-1.5 max-h-48 overflow-y-auto p-3 border border-slate-200 rounded-xl bg-white",children:ce.map(i=>e.jsx("button",{type:"button",onClick:()=>g(i),className:`px-2 py-1.5 text-xs font-medium rounded-lg transition-all ${n.includes(i)?"bg-shield-600 text-white":"bg-slate-100 text-slate-600 hover:bg-slate-200"}`,children:i},i))}),n.length>0&&e.jsxs("p",{className:"text-xs text-slate-500 mt-1",children:[n.length," state",n.length!==1?"s":""," selected"]})]})}function d({label:n,value:r,onChange:g,placeholder:i,type:j="text",required:b}){return e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-slate-700 mb-1.5",children:[n," ",b&&e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:j,value:r,onChange:C=>g(C.target.value),placeholder:i,className:"w-full h-11 px-3 rounded-xl border border-slate-200 bg-white text-sm focus:outline-none focus:ring-2 focus:ring-shield-500/20 focus:border-shield-500 transition-all"})]})}function ae({label:n,value:r,onChange:g,placeholder:i,rows:j=3}){return e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1.5",children:n}),e.jsx("textarea",{value:r,onChange:b=>g(b.target.value),placeholder:i,rows:j,className:"w-full px-3 py-2.5 rounded-xl border border-slate-200 bg-white text-sm focus:outline-none focus:ring-2 focus:ring-shield-500/20 focus:border-shield-500 transition-all resize-none"})]})}function Ve(){const n=De(),{user:r,refreshUser:g}=We(),[i,j]=x.useState(0),[b,C]=x.useState(!1),[$,V]=x.useState(!0),[R,re]=x.useState(null),[a,P]=x.useState({agency_name:"",agency_phone:"",agency_email:"",agency_website:"",agency_description:"",address:"",city:"",state:"",zip_code:"",license_number:"",npn_number:"",license_states:[],eo_carrier:"",eo_policy_number:"",eo_expiration:"",product_ids:[],carrier_ids:[]}),[l,F]=x.useState({bio:"",phone:"",license_number:"",license_states:[],npn_number:"",specialties:[],carriers:[],years_experience:"",city:"",state:""}),[k,I]=x.useState({npn:"",name:"",license_number:"",state:""}),[L,de]=x.useState([]),[K,H]=x.useState(!1),[oe,q]=x.useState(!1),[y,xe]=x.useState(null),[J,Z]=x.useState(!1),m=r?.role==="agency_owner",f=m?$e:Re,h=f[i];x.useEffect(()=>{V(!0),W.getFormData().then(s=>re(s)).catch(()=>{}).finally(()=>V(!1))},[]),x.useEffect(()=>{r&&(F(s=>({...s,phone:r.phone||""})),m&&P(s=>({...s,agency_email:r.email||""})))},[r,m]);const o=(s,t)=>{P(c=>({...c,[s]:t}))},u=(s,t)=>{F(c=>({...c,[s]:t}))},D=()=>{i<f.length-1&&j(s=>s+1)},me=()=>{i>0&&j(s=>s-1)},Q=async()=>{if(h.id==="claim-profile"){D();return}C(!0);try{if(m&&h.id!=="agent-profile"){const s={agency_name:a.agency_name,agency_phone:a.agency_phone||void 0,agency_email:a.agency_email||void 0,agency_website:a.agency_website||void 0,agency_description:a.agency_description||void 0,address:a.address||void 0,city:a.city||void 0,state:a.state||void 0,zip_code:a.zip_code||void 0,license_number:a.license_number||void 0,npn_number:a.npn_number||void 0,license_states:a.license_states.length>0?a.license_states:void 0,eo_carrier:a.eo_carrier||void 0,eo_policy_number:a.eo_policy_number||void 0,eo_expiration:a.eo_expiration||void 0,product_ids:a.product_ids.length>0?a.product_ids:void 0,carrier_ids:a.carrier_ids.length>0?a.carrier_ids:void 0};await W.saveAgency(s)}if(h.id==="agent-profile"||!m){const s={bio:l.bio||void 0,license_number:l.license_number||void 0,license_states:l.license_states.length>0?l.license_states:void 0,npn_number:l.npn_number||void 0,specialties:l.specialties.length>0?l.specialties:void 0,carriers:l.carriers.length>0?l.carriers:void 0,years_experience:l.years_experience?parseInt(l.years_experience):void 0,city:l.city||void 0,state:l.state||void 0,phone:l.phone||void 0};await W.saveAgent(s)}D()}catch(s){_.error(s instanceof Error?s.message:"Failed to save. Please try again.")}finally{C(!1)}},he=async()=>{C(!0);try{await W.complete(),await g(),_.success("Onboarding complete! Welcome to Insurons."),n("/dashboard",{state:{fromOnboarding:!0},replace:!0})}catch(s){_.error(s instanceof Error?s.message:"Failed to complete onboarding.")}finally{C(!1)}},ue=s=>{P(t=>({...t,product_ids:t.product_ids.includes(s)?t.product_ids.filter(c=>c!==s):[...t.product_ids,s]}))},pe=(s,t)=>{const c=s.map(N=>N.id);P(N=>({...N,product_ids:t?[...new Set([...N.product_ids,...c])]:N.product_ids.filter(S=>!c.includes(S))}))},ge=s=>{P(t=>({...t,carrier_ids:t.carrier_ids.includes(s)?t.carrier_ids.filter(c=>c!==s):[...t.carrier_ids,s]}))},be=s=>{F(t=>({...t,specialties:t.specialties.includes(s)?t.specialties.filter(c=>c!==s):[...t.specialties,s]}))},je=async()=>{const{npn:s,name:t,license_number:c,state:N}=k;if(!s&&!t&&!c){_.error("Please enter an NPN, name, or license number to search.");return}H(!0),q(!1);try{const S=await te.search({npn:s||void 0,name:t||void 0,license_number:c||void 0,state:N||void 0});de(S.profiles||[]),q(!0)}catch{_.error("Search failed. Please try again.")}finally{H(!1)}},ye=async s=>{Z(!0);try{await te.claim(s.id),xe(s),_.success("Profile claimed successfully! Your license data has been linked."),F(t=>({...t,license_number:s.license_number||t.license_number,npn_number:s.npn||t.npn_number,license_states:s.license_states?.length?s.license_states:t.license_states,city:s.city||t.city,state:s.state||t.state}))}catch(t){_.error(t instanceof Error?t.message:"Failed to claim profile.")}finally{Z(!1)}},Ne=()=>e.jsxs("div",{className:"text-center py-8",children:[e.jsx("div",{className:"w-20 h-20 rounded-2xl gradient-shield flex items-center justify-center mx-auto mb-6",children:e.jsx(Y,{className:"w-10 h-10 text-white"})}),e.jsxs("h2",{className:"text-2xl font-bold text-slate-900 mb-3",children:["Welcome to Insurons",r?.name?`, ${r.name.split(" ")[0]}`:"","!"]}),e.jsx("p",{className:"text-slate-500 max-w-md mx-auto mb-6",children:m?"Let's set up your agency. We'll collect your company details, licensing, products you sell, and carrier appointments to get you started.":"Let's set up your agent profile. We'll collect your licensing info, specialties, and service area so we can match you with the right leads."}),e.jsx("div",{className:"flex flex-col gap-3 max-w-sm mx-auto text-left",children:f.filter(s=>s.id!=="welcome"&&s.id!=="complete").map((s,t)=>e.jsxs("div",{className:"flex items-center gap-3 text-sm",children:[e.jsx("div",{className:"w-7 h-7 rounded-full bg-shield-100 text-shield-700 flex items-center justify-center text-xs font-bold",children:t+1}),e.jsx("span",{className:"text-slate-700",children:s.label}),e.jsxs("span",{className:"text-slate-400 text-xs",children:["â€” ",s.description]})]},s.id))})]}),fe=()=>e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx(U,{className:"w-6 h-6 text-shield-600"}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-bold text-slate-900",children:"Find Your Existing Profile"}),e.jsx("p",{className:"text-sm text-slate-500",children:"We may already have your license on file. Search to claim your profile and skip manual entry."})]})]}),y?e.jsxs("div",{className:"bg-savings-50 border border-savings-200 rounded-xl p-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx(M,{className:"w-6 h-6 text-savings-600"}),e.jsx("h3",{className:"text-base font-semibold text-savings-800",children:"Profile Claimed!"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-slate-500",children:"Name:"})," ",e.jsx("span",{className:"font-medium text-slate-800",children:y.full_name})]}),y.npn&&e.jsxs("div",{children:[e.jsx("span",{className:"text-slate-500",children:"NPN:"})," ",e.jsx("span",{className:"font-medium text-slate-800",children:y.npn})]}),y.license_number&&e.jsxs("div",{children:[e.jsx("span",{className:"text-slate-500",children:"License:"})," ",e.jsx("span",{className:"font-medium text-slate-800",children:y.license_number})]}),y.state&&e.jsxs("div",{children:[e.jsx("span",{className:"text-slate-500",children:"State:"})," ",e.jsx("span",{className:"font-medium text-slate-800",children:y.state})]})]}),e.jsx("p",{className:"text-xs text-savings-600 mt-3",children:"Your license details have been pre-filled in the next steps."})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"bg-slate-50 rounded-xl p-5 space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx(d,{label:"NPN (National Producer Number)",value:k.npn,onChange:s=>I(t=>({...t,npn:s})),placeholder:"12345678"}),e.jsx(d,{label:"License Number",value:k.license_number,onChange:s=>I(t=>({...t,license_number:s})),placeholder:"W123456"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx(d,{label:"Full Name",value:k.name,onChange:s=>I(t=>({...t,name:s})),placeholder:"Jane Doe"}),e.jsx(E,{value:k.state,onChange:s=>I(t=>({...t,state:s}))})]}),e.jsxs("button",{type:"button",onClick:je,disabled:K,className:"flex items-center gap-2 px-5 py-2.5 gradient-shield text-white rounded-xl text-sm font-medium hover:opacity-90 disabled:opacity-50 transition-opacity",children:[K?e.jsx(v,{className:"w-4 h-4 animate-spin"}):e.jsx(Te,{className:"w-4 h-4"}),"Search Profiles"]})]}),oe&&L.length===0&&e.jsx("div",{className:"text-center py-6 text-slate-500 text-sm",children:e.jsx("p",{children:"No matching profiles found. You can skip this step and enter your details manually."})}),L.length>0&&e.jsxs("div",{className:"space-y-3",children:[e.jsxs("p",{className:"text-sm font-medium text-slate-700",children:[L.length," profile",L.length!==1?"s":""," found:"]}),e.jsx("div",{className:"space-y-2 max-h-[300px] overflow-y-auto pr-1",children:L.map(s=>e.jsx("div",{className:"border border-slate-200 rounded-xl p-4 hover:border-shield-300 transition-colors",children:e.jsxs("div",{className:"flex items-start justify-between gap-4",children:[e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("p",{className:"font-semibold text-slate-900",children:s.full_name||"Unknown"}),e.jsxs("div",{className:"grid grid-cols-2 gap-x-6 gap-y-1 mt-2 text-sm",children:[s.npn&&e.jsxs("div",{children:[e.jsx("span",{className:"text-slate-400",children:"NPN:"})," ",e.jsx("span",{className:"text-slate-700",children:s.npn})]}),s.license_number&&e.jsxs("div",{children:[e.jsx("span",{className:"text-slate-400",children:"License:"})," ",e.jsx("span",{className:"text-slate-700",children:s.license_number})]}),s.license_type&&e.jsxs("div",{children:[e.jsx("span",{className:"text-slate-400",children:"Type:"})," ",e.jsx("span",{className:"text-slate-700",children:s.license_type})]}),s.license_status&&e.jsxs("div",{children:[e.jsx("span",{className:"text-slate-400",children:"Status:"})," ",e.jsx("span",{className:"text-slate-700",children:s.license_status})]}),s.city&&s.state&&e.jsxs("div",{children:[e.jsx("span",{className:"text-slate-400",children:"Location:"})," ",e.jsxs("span",{className:"text-slate-700",children:[s.city,", ",s.state]})]}),s.county&&e.jsxs("div",{children:[e.jsx("span",{className:"text-slate-400",children:"County:"})," ",e.jsx("span",{className:"text-slate-700",children:s.county})]})]}),s.license_lookup_url&&e.jsxs("a",{href:s.license_lookup_url,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-1 text-xs text-shield-600 hover:text-shield-700 mt-2",children:[e.jsx(Me,{className:"w-3 h-3"})," Verify on state DOI"]})]}),e.jsxs("button",{type:"button",onClick:()=>ye(s),disabled:J,className:"flex-shrink-0 flex items-center gap-1.5 px-4 py-2 bg-shield-600 text-white rounded-lg text-sm font-medium hover:bg-shield-700 disabled:opacity-50 transition-colors",children:[J?e.jsx(v,{className:"w-3.5 h-3.5 animate-spin"}):e.jsx(U,{className:"w-3.5 h-3.5"}),"Claim"]})]})},s.id))})]})]})]}),ve=()=>e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx(ne,{className:"w-6 h-6 text-shield-600"}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-bold text-slate-900",children:"Agency Information"}),e.jsx("p",{className:"text-sm text-slate-500",children:"Tell us about your insurance agency"})]})]}),e.jsx(d,{label:"Agency Name",value:a.agency_name,onChange:s=>o("agency_name",s),placeholder:"Acme Insurance Group",required:!0}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx(d,{label:"Phone",value:a.agency_phone,onChange:s=>o("agency_phone",s),placeholder:"(555) 123-4567",type:"tel"}),e.jsx(d,{label:"Email",value:a.agency_email,onChange:s=>o("agency_email",s),placeholder:"info@agency.com",type:"email"})]}),e.jsx(d,{label:"Website",value:a.agency_website,onChange:s=>o("agency_website",s),placeholder:"https://www.agency.com"}),e.jsx(ae,{label:"Description",value:a.agency_description,onChange:s=>o("agency_description",s),placeholder:"Tell potential customers about your agency..."})]}),_e=()=>e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx(O,{className:"w-6 h-6 text-shield-600"}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-bold text-slate-900",children:"Agency Location"}),e.jsx("p",{className:"text-sm text-slate-500",children:"Where is your agency located?"})]})]}),e.jsx(d,{label:"Street Address",value:a.address,onChange:s=>o("address",s),placeholder:"123 Main Street, Suite 100"}),e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsx(d,{label:"City",value:a.city,onChange:s=>o("city",s),placeholder:"Dallas"}),e.jsx(E,{value:a.state,onChange:s=>o("state",s)}),e.jsx(d,{label:"ZIP Code",value:a.zip_code,onChange:s=>o("zip_code",s),placeholder:"75201"})]})]}),we=()=>e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx(Y,{className:"w-6 h-6 text-shield-600"}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-bold text-slate-900",children:"Licensing & Compliance"}),e.jsx("p",{className:"text-sm text-slate-500",children:"Your agency's licensing and E&O insurance details"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx(d,{label:"Agency License Number",value:a.license_number,onChange:s=>o("license_number",s),placeholder:"AG-12345678"}),e.jsx(d,{label:"NPN (National Producer Number)",value:a.npn_number,onChange:s=>o("npn_number",s),placeholder:"12345678"})]}),e.jsx(z,{selected:a.license_states,onChange:s=>o("license_states",s)}),e.jsxs("div",{className:"border-t border-slate-200 pt-5",children:[e.jsx("h3",{className:"text-sm font-semibold text-slate-800 mb-3",children:"E&O Insurance"}),e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsx(d,{label:"E&O Carrier",value:a.eo_carrier,onChange:s=>o("eo_carrier",s),placeholder:"Swiss Re"}),e.jsx(d,{label:"Policy Number",value:a.eo_policy_number,onChange:s=>o("eo_policy_number",s),placeholder:"EO-123456"}),e.jsx(d,{label:"Expiration Date",value:a.eo_expiration,onChange:s=>o("eo_expiration",s),type:"date"})]})]})]}),Ce=()=>{if($)return e.jsx("div",{className:"flex justify-center py-12",children:e.jsx(v,{className:"w-8 h-8 animate-spin text-shield-500"})});const s=R?.products_grouped||{};return e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx(T,{className:"w-6 h-6 text-shield-600"}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-bold text-slate-900",children:"Products You Sell"}),e.jsx("p",{className:"text-sm text-slate-500",children:"Select the insurance products your agency offers"})]})]}),e.jsxs("p",{className:"text-sm text-shield-700 bg-shield-50 px-4 py-2 rounded-lg",children:[a.product_ids.length," product",a.product_ids.length!==1?"s":""," selected"]}),e.jsx("div",{className:"space-y-4 max-h-[400px] overflow-y-auto pr-1",children:Object.entries(s).map(([t,c])=>{const S=c.filter(A=>a.product_ids.includes(A.id)).length===c.length;return e.jsxs("div",{className:"border border-slate-200 rounded-xl overflow-hidden",children:[e.jsxs("div",{className:"flex items-center justify-between px-4 py-2.5 bg-slate-50 border-b border-slate-200",children:[e.jsx("span",{className:"text-sm font-semibold text-slate-800",children:t}),e.jsx("button",{type:"button",onClick:()=>pe(c,!S),className:"text-xs px-2.5 py-1 bg-shield-100 text-shield-700 rounded-full hover:bg-shield-200",children:S?"Deselect All":"Select All"})]}),e.jsx("div",{className:"grid grid-cols-2 gap-0",children:c.map(A=>{const G=a.product_ids.includes(A.id);return e.jsxs("button",{type:"button",onClick:()=>ue(A.id),className:`flex items-center gap-2.5 px-4 py-2.5 text-left hover:bg-slate-50 transition-colors border-b border-r border-slate-100 ${G?"bg-shield-50/50":""}`,children:[e.jsx("div",{className:`w-4.5 h-4.5 rounded border-2 flex items-center justify-center flex-shrink-0 ${G?"bg-shield-600 border-shield-600":"border-slate-300"}`,children:G&&e.jsx(p,{className:"w-3 h-3 text-white"})}),e.jsx("span",{className:"text-sm text-slate-800 truncate",children:A.name})]},A.id)})})]},t)})})]})},Se=()=>{if($)return e.jsx("div",{className:"flex justify-center py-12",children:e.jsx(v,{className:"w-8 h-8 animate-spin text-shield-500"})});const s=R?.carriers||[];return e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx(ie,{className:"w-6 h-6 text-shield-600"}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-bold text-slate-900",children:"Carrier Appointments"}),e.jsx("p",{className:"text-sm text-slate-500",children:"Select the carriers your agency is appointed with"})]})]}),e.jsxs("p",{className:"text-sm text-shield-700 bg-shield-50 px-4 py-2 rounded-lg",children:[a.carrier_ids.length," carrier",a.carrier_ids.length!==1?"s":""," selected"]}),s.length===0?e.jsx("div",{className:"text-center py-8 text-slate-500 text-sm",children:"No carriers available. You can add carrier appointments later from your dashboard."}):e.jsx("div",{className:"grid grid-cols-2 gap-2 max-h-[400px] overflow-y-auto pr-1",children:s.map(t=>{const c=a.carrier_ids.includes(t.id);return e.jsxs("button",{type:"button",onClick:()=>ge(t.id),className:`flex items-center gap-3 px-4 py-3 rounded-xl border-2 text-left transition-all ${c?"border-shield-500 bg-shield-50":"border-slate-200 hover:border-slate-300 bg-white"}`,children:[e.jsx("div",{className:`w-5 h-5 rounded-full border-2 flex items-center justify-center flex-shrink-0 ${c?"bg-shield-600 border-shield-600":"border-slate-300"}`,children:c&&e.jsx(p,{className:"w-3 h-3 text-white"})}),e.jsxs("div",{className:"min-w-0",children:[e.jsx("p",{className:"text-sm font-medium text-slate-900 truncate",children:t.name}),t.am_best_rating&&e.jsxs("p",{className:"text-xs text-slate-400",children:["AM Best: ",t.am_best_rating]})]})]},t.id)})})]})},Ae=()=>e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx(B,{className:"w-6 h-6 text-shield-600"}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-bold text-slate-900",children:m?"Your Personal Profile":"Your Profile"}),e.jsx("p",{className:"text-sm text-slate-500",children:m?"Set up your personal agent profile as the agency principal":"Tell us about yourself and your experience"})]})]}),e.jsx(d,{label:"Phone",value:l.phone,onChange:s=>u("phone",s),placeholder:"(555) 123-4567",type:"tel"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx(d,{label:"City",value:l.city,onChange:s=>u("city",s),placeholder:"Dallas"}),e.jsx(E,{value:l.state,onChange:s=>u("state",s)})]}),e.jsx(d,{label:"Years of Experience",value:l.years_experience,onChange:s=>u("years_experience",s),placeholder:"10",type:"number"}),e.jsx(ae,{label:"Bio / About",value:l.bio,onChange:s=>u("bio",s),placeholder:"Tell clients about your background and expertise...",rows:4})]}),Pe=()=>e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx(Oe,{className:"w-6 h-6 text-shield-600"}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-bold text-slate-900",children:"Licensing Information"}),e.jsx("p",{className:"text-sm text-slate-500",children:"Your personal insurance license details"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx(d,{label:"License Number",value:l.license_number,onChange:s=>u("license_number",s),placeholder:"AG-12345678"}),e.jsx(d,{label:"NPN (National Producer Number)",value:l.npn_number,onChange:s=>u("npn_number",s),placeholder:"12345678"})]}),e.jsx(z,{selected:l.license_states,onChange:s=>u("license_states",s)})]}),ke=()=>{const s=R?.products||[];return e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx(T,{className:"w-6 h-6 text-shield-600"}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-bold text-slate-900",children:"Your Specialties"}),e.jsx("p",{className:"text-sm text-slate-500",children:"What types of insurance do you specialize in?"})]})]}),e.jsxs("p",{className:"text-sm text-shield-700 bg-shield-50 px-4 py-2 rounded-lg",children:[l.specialties.length," specialt",l.specialties.length!==1?"ies":"y"," selected"]}),$?e.jsx("div",{className:"flex justify-center py-8",children:e.jsx(v,{className:"w-8 h-8 animate-spin text-shield-500"})}):e.jsx("div",{className:"grid grid-cols-2 gap-2 max-h-[350px] overflow-y-auto pr-1",children:s.map(t=>{const c=l.specialties.includes(t.slug);return e.jsxs("button",{type:"button",onClick:()=>be(t.slug),className:`flex items-center gap-2.5 px-4 py-2.5 rounded-lg border text-left transition-all ${c?"border-shield-500 bg-shield-50":"border-slate-200 hover:border-slate-300"}`,children:[e.jsx("div",{className:`w-4.5 h-4.5 rounded border-2 flex items-center justify-center flex-shrink-0 ${c?"bg-shield-600 border-shield-600":"border-slate-300"}`,children:c&&e.jsx(p,{className:"w-3 h-3 text-white"})}),e.jsx("span",{className:"text-sm text-slate-800 truncate",children:t.name})]},t.id)})})]})},Le=()=>e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx(O,{className:"w-6 h-6 text-shield-600"}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-bold text-slate-900",children:"Service Area"}),e.jsx("p",{className:"text-sm text-slate-500",children:"Which states do you serve clients in?"})]})]}),e.jsx(z,{selected:l.license_states,onChange:s=>u("license_states",s)}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx(d,{label:"Primary City",value:l.city,onChange:s=>u("city",s),placeholder:"Dallas"}),e.jsx(E,{value:l.state,onChange:s=>u("state",s),label:"Primary State"})]})]}),Ye=()=>e.jsxs("div",{className:"text-center py-8",children:[e.jsx("div",{className:"w-20 h-20 rounded-full bg-savings-100 flex items-center justify-center mx-auto mb-6",children:e.jsx(M,{className:"w-10 h-10 text-savings-600"})}),e.jsx("h2",{className:"text-2xl font-bold text-slate-900 mb-3",children:"You're All Set!"}),e.jsx("p",{className:"text-slate-500 max-w-md mx-auto mb-8",children:m?"Your agency is set up and ready to go. You can always update your settings from the dashboard.":"Your profile is set up. You'll start receiving leads and can begin serving clients right away."}),e.jsxs("div",{className:"bg-slate-50 rounded-xl p-6 max-w-sm mx-auto text-left space-y-3",children:[e.jsx("h3",{className:"text-sm font-semibold text-slate-800 mb-3",children:"Setup Summary"}),m&&a.agency_name&&e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx(p,{className:"w-4 h-4 text-savings-600"}),e.jsxs("span",{className:"text-slate-700",children:["Agency: ",a.agency_name]})]}),m&&a.product_ids.length>0&&e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx(p,{className:"w-4 h-4 text-savings-600"}),e.jsxs("span",{className:"text-slate-700",children:[a.product_ids.length," products enabled"]})]}),m&&a.carrier_ids.length>0&&e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx(p,{className:"w-4 h-4 text-savings-600"}),e.jsxs("span",{className:"text-slate-700",children:[a.carrier_ids.length," carriers appointed"]})]}),l.license_number&&e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx(p,{className:"w-4 h-4 text-savings-600"}),e.jsxs("span",{className:"text-slate-700",children:["License: ",l.license_number]})]}),l.license_states.length>0&&e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx(p,{className:"w-4 h-4 text-savings-600"}),e.jsxs("span",{className:"text-slate-700",children:[l.license_states.length," licensed states"]})]}),!m&&l.specialties.length>0&&e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx(p,{className:"w-4 h-4 text-savings-600"}),e.jsxs("span",{className:"text-slate-700",children:[l.specialties.length," specialties"]})]})]})]}),Fe=()=>{switch(h.id){case"welcome":return Ne();case"claim-profile":return fe();case"agency-info":return ve();case"agency-location":return _e();case"licensing":return we();case"products":return Ce();case"carriers":return Se();case"agent-profile":return Ae();case"agent-licensing":return Pe();case"agent-specialties":return ke();case"service-area":return Le();case"complete":return Ye();default:return null}},Ie=()=>h.id==="welcome"||h.id==="claim-profile"||h.id==="complete"?!0:h.id==="agency-info"?a.agency_name.trim().length>0:!0,X=i===f.length-2,ee=h.id==="complete";return e.jsxs("div",{className:"min-h-screen bg-slate-50",children:[e.jsx("nav",{className:"bg-white border-b border-slate-100",children:e.jsxs("div",{className:"max-w-3xl mx-auto px-6 py-4 flex items-center justify-between",children:[e.jsx("a",{href:"/",className:"flex items-center gap-2.5",children:e.jsx("img",{src:"/logo.png",alt:"Insurons",className:"h-14 w-auto"})}),e.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-500",children:[e.jsx(Y,{className:"w-4 h-4 text-shield-600"}),"Account Setup"]})]})}),e.jsxs("div",{className:"max-w-3xl mx-auto px-6 py-8",children:[e.jsxs("div",{className:"mb-8",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("span",{className:"text-sm font-medium text-slate-700",children:["Step ",i+1," of ",f.length]}),e.jsx("span",{className:"text-sm text-slate-500",children:h.label})]}),e.jsx("div",{className:"w-full bg-slate-200 rounded-full h-2",children:e.jsx("div",{className:"bg-shield-600 h-2 rounded-full transition-all duration-500",style:{width:`${(i+1)/f.length*100}%`}})}),e.jsx("div",{className:"flex justify-between mt-3",children:f.map((s,t)=>{const c=s.icon;return e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center transition-all ${t<i?"bg-savings-500 text-white":t===i?"gradient-shield text-white":"bg-slate-200 text-slate-400"}`,children:t<i?e.jsx(p,{className:"w-4 h-4"}):e.jsx(c,{className:"w-4 h-4"})}),e.jsx("span",{className:`text-xs mt-1 hidden sm:block ${t<=i?"text-slate-700 font-medium":"text-slate-400"}`,children:s.label})]},s.id)})})]}),e.jsxs("div",{className:"bg-white rounded-2xl border border-slate-200 shadow-sm",children:[e.jsx("div",{className:"p-8",children:Fe()}),e.jsxs("div",{className:"flex items-center justify-between px-8 py-5 border-t border-slate-100 bg-slate-50/50 rounded-b-2xl",children:[e.jsxs("button",{type:"button",onClick:me,disabled:i===0,className:"flex items-center gap-2 px-4 py-2.5 text-sm font-medium text-slate-600 hover:text-slate-800 disabled:opacity-30 disabled:cursor-not-allowed transition-colors",children:[e.jsx(Ee,{className:"w-4 h-4"}),"Back"]}),ee?e.jsxs("button",{type:"button",onClick:he,disabled:b,className:"flex items-center gap-2 px-6 py-2.5 bg-savings-600 text-white rounded-xl font-medium hover:bg-savings-700 disabled:opacity-50 transition-colors",children:[b?e.jsx(v,{className:"w-4 h-4 animate-spin"}):e.jsx(p,{className:"w-4 h-4"}),"Go to Dashboard"]}):h.id==="welcome"?e.jsxs("button",{type:"button",onClick:D,className:"flex items-center gap-2 px-6 py-2.5 gradient-shield text-white rounded-xl font-medium hover:opacity-90 transition-opacity",children:["Let's Get Started",e.jsx(se,{className:"w-4 h-4"})]}):e.jsxs("button",{type:"button",onClick:Q,disabled:b||!Ie(),className:"flex items-center gap-2 px-6 py-2.5 gradient-shield text-white rounded-xl font-medium hover:opacity-90 disabled:opacity-50 transition-opacity",children:[b?e.jsx(v,{className:"w-4 h-4 animate-spin"}):null,X?"Save & Finish":"Save & Continue",!b&&e.jsx(se,{className:"w-4 h-4"})]})]})]}),!ee&&h.id!=="welcome"&&e.jsx("div",{className:"text-center mt-4",children:e.jsx("button",{type:"button",onClick:D,className:"text-sm text-slate-400 hover:text-slate-600 transition-colors",children:"Skip this step for now"})})]})]})}export{Ve as default};
